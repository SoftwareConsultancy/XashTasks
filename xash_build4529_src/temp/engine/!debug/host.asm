; Listing generated by Microsoft (R) Optimizing Compiler Version 19.16.27045.0 

	TITLE	C:\Users\USER\Downloads\xash_build4529_src\engine\common\host.c
	.686P
	.XMM
	include listing.inc
	.model	flat

INCLUDELIB MSVCRTD
INCLUDELIB OLDNAMES

PUBLIC	_pChangeGame
PUBLIC	_sys_ticrate
PUBLIC	_host_developer
_BSS	SEGMENT
_pChangeGame DD	01H DUP (?)
_BSS	ENDS
_DATA	SEGMENT
COMM	_hCurrent:DWORD
COMM	_host_serverstate:DWORD
COMM	_host_gameloaded:DWORD
COMM	_host_clientloaded:DWORD
COMM	_con_gamemaps:DWORD
COMM	_build:DWORD
COMM	_ver:DWORD
COMM	_host_limitlocal:DWORD
COMM	_host_framerate:DWORD
COMM	_host_maxfps:DWORD
COMM	_host:BYTE:087d0H
COMM	_SI:BYTE:0b08H
_DATA	ENDS
_DATA	SEGMENT
$SG134519 DB	'developer', 00H
	ORG $+2
$SG134520 DB	'0', 00H
	ORG $+2
$SG134521 DB	'engine is in development-mode', 00H
	ORG $+2
_sys_ticrate DD	FLAT:$SG134524
	DD	FLAT:$SG134525
	DD	00H
	DD	000000000r			; 0
	DD	0deadbeefH
	DD	FLAT:$SG134526
	ORG $+4
$SG134524 DB	'sys_ticrate', 00H
$SG134525 DB	'100', 00H
$SG134526 DB	'framerate in dedicated mode', 00H
_host_developer DD FLAT:$SG134519
	DD	FLAT:$SG134520
	DD	00H
	DD	000000000r			; 0
	DD	0deadbeefH
	DD	FLAT:$SG134521
	ORG $+4
_DATA	ENDS
PUBLIC	_Host_Shutdown
PUBLIC	_Host_CompareFileTime
PUBLIC	_Host_NewInstance
PUBLIC	_Host_EndGame
PUBLIC	_Host_AbortCurrentFrame
PUBLIC	_Host_IsLocalGame
PUBLIC	_Host_IsLocalClient
PUBLIC	_Host_ShutdownServer
PUBLIC	_Host_Error
PUBLIC	_Host_PrintEngineFeatures
PUBLIC	_Host_Frame
PUBLIC	_Host_InitDecals
PUBLIC	_Host_CheckSleep
PUBLIC	_Host_ChangeGame_f
PUBLIC	_Host_Exec_f
PUBLIC	_Host_MemStats_f
PUBLIC	_Host_Minimize_f
PUBLIC	_Host_RegisterDecal
PUBLIC	_Host_GetCommands
PUBLIC	_Host_CalcFPS
PUBLIC	_Host_FilterTime
PUBLIC	_Host_Error_f
PUBLIC	_Sys_Error_f
PUBLIC	_Host_InitCommon
PUBLIC	_Host_FreeCommon
PUBLIC	_Host_Main
PUBLIC	_DllMain@12
PUBLIC	__real@00000000
PUBLIC	__real@0000000000000000
PUBLIC	__real@3f1a36e2eb1c432d
PUBLIC	__real@3fb999999999999a
PUBLIC	__real@3fd0000000000000
PUBLIC	__real@3ff0000000000000
PUBLIC	__real@40000000
PUBLIC	__real@4034000000000000
PUBLIC	__real@404e000000000000
PUBLIC	__real@4069000000000000
EXTRN	___report_rangecheckfailure:PROC
EXTRN	_longjmp:PROC
EXTRN	_memcpy:PROC
EXTRN	_memset:PROC
EXTRN	__imp__GetCommandLineA@0:PROC
EXTRN	__imp__SetCurrentDirectoryA@4:PROC
EXTRN	__imp__GetCurrentDirectoryA@8:PROC
EXTRN	__imp__CloseHandle@4:PROC
EXTRN	__imp__SetUnhandledExceptionFilter@4:PROC
EXTRN	__imp__SetErrorMode@4:PROC
EXTRN	__imp__CreateMutexA@12:PROC
EXTRN	__imp__GetModuleFileNameA@12:PROC
EXTRN	__imp__GetModuleHandleA@4:PROC
EXTRN	__imp__GlobalMemoryStatus@4:PROC
EXTRN	__imp__CreateSemaphoreA@16:PROC
EXTRN	__imp__ShowWindow@8:PROC
EXTRN	__imp__MessageBoxA@16:PROC
EXTRN	__imp__ShowCursor@4:PROC
EXTRN	__imp__timeBeginPeriod@4:PROC
EXTRN	_abs:PROC
EXTRN	__imp__atof:PROC
EXTRN	_Sys_Sleep:PROC
EXTRN	_Sys_DoubleTime:PROC
EXTRN	_Sys_CheckParm:PROC
EXTRN	_Sys_Error:PROC
EXTRN	_Sys_ParseCommandLine:PROC
EXTRN	_Sys_MergeCommandLine:PROC
EXTRN	_Sys_Crash@4:PROC
EXTRN	__Sys_GetParmFromCmdLine:PROC
EXTRN	_Sys_Quit:PROC
EXTRN	_Con_ShowConsole:PROC
EXTRN	_Con_InitConsoleCommands:PROC
EXTRN	_Con_CreateConsole:PROC
EXTRN	_Con_DestroyConsole:PROC
EXTRN	_Con_Input:PROC
EXTRN	_Cbuf_Clear:PROC
EXTRN	_Cbuf_AddText:PROC
EXTRN	_Cbuf_InsertText:PROC
EXTRN	_Cbuf_ExecStuffCmds:PROC
EXTRN	_Cbuf_Execute:PROC
EXTRN	_Cmd_Argc:PROC
EXTRN	_Cmd_Argv:PROC
EXTRN	_Cmd_Init:PROC
EXTRN	_Cmd_AddCommand:PROC
EXTRN	_Cmd_RemoveCommand:PROC
EXTRN	_Q_strlen:PROC
EXTRN	_Q_strncat:PROC
EXTRN	_Q_strncpy:PROC
EXTRN	_Q_isdigit:PROC
EXTRN	_Q_atoi:PROC
EXTRN	_Q_strnicmp:PROC
EXTRN	_Q_vsnprintf:PROC
EXTRN	_Q_snprintf:PROC
EXTRN	_Q_sprintf:PROC
EXTRN	_va:PROC
EXTRN	_Memory_Init:PROC
EXTRN	__Mem_Alloc:PROC
EXTRN	__Mem_AllocPool:PROC
EXTRN	__Mem_FreePool:PROC
EXTRN	__Mem_Free:PROC
EXTRN	_Mem_PrintList:PROC
EXTRN	_Mem_PrintStats:PROC
EXTRN	_Cvar_RegisterVariable:PROC
EXTRN	_Cvar_Get:PROC
EXTRN	_Cvar_DirectSet:PROC
EXTRN	_Cvar_SetValue:PROC
EXTRN	_Cvar_Init:PROC
EXTRN	_NET_Init:PROC
EXTRN	_NET_Shutdown:PROC
EXTRN	_FS_Init:PROC
EXTRN	_FS_Shutdown:PROC
EXTRN	_FS_LoadGameInfo:PROC
EXTRN	_COM_FileBase:PROC
EXTRN	_COM_DefaultExtension:PROC
EXTRN	_COM_ExtractFilePath:PROC
EXTRN	_FS_LoadFile:PROC
EXTRN	_COM_CheckString:PROC
EXTRN	_FS_Search:PROC
EXTRN	_FS_FileExists:PROC
EXTRN	_Image_Init:PROC
EXTRN	_Image_Shutdown:PROC
EXTRN	_Sound_Init:PROC
EXTRN	_Sound_Shutdown:PROC
EXTRN	_Q_buildnum:PROC
EXTRN	_Host_WriteConfig:PROC
EXTRN	_COM_InitHostState:PROC
EXTRN	_COM_Frame:PROC
EXTRN	_CL_Init:PROC
EXTRN	_CL_Shutdown:PROC
EXTRN	_Host_ClientBegin:PROC
EXTRN	_Host_ClientFrame:PROC
EXTRN	_SV_Init:PROC
EXTRN	_SV_Shutdown:PROC
EXTRN	_Host_ServerFrame:PROC
EXTRN	_SV_Active:PROC
EXTRN	_Con_Reportf:PROC
EXTRN	_Con_DPrintf:PROC
EXTRN	_Con_Printf:PROC
EXTRN	_HPAK_Init:PROC
EXTRN	_HPAK_FlushHostQueue:PROC
EXTRN	_Key_Init:PROC
EXTRN	_Key_SetKeyDest:PROC
EXTRN	_CL_IsInGame:PROC
EXTRN	_CL_IsInMenu:PROC
EXTRN	_CL_Initialized:PROC
EXTRN	_CL_GetDemoFramerate:PROC
EXTRN	_CL_GetMaxClients:PROC
EXTRN	_SV_GetMaxClients:PROC
EXTRN	_CL_IsRecordDemo:PROC
EXTRN	_CL_IsTimeDemo:PROC
EXTRN	_CL_IsPlaybackDemo:PROC
EXTRN	_SV_Initialized:PROC
EXTRN	_CL_WriteMessageHistory:PROC
EXTRN	_CL_Disconnect:PROC
EXTRN	_CL_ClearEdicts:PROC
EXTRN	_CL_Drop:PROC
EXTRN	_Con_Init:PROC
EXTRN	_SCR_CheckStartupVids:PROC
EXTRN	_VID_InitDefaultResolution:PROC
EXTRN	_UI_SetActiveMenu:PROC
EXTRN	_Netchan_Init:PROC
EXTRN	_Netchan_Shutdown:PROC
EXTRN	_Mod_Init:PROC
EXTRN	_Mod_FreeAll:PROC
EXTRN	_Mod_Shutdown:PROC
EXTRN	_IN_Init:PROC
EXTRN	_Host_InputFrame:PROC
EXTRN	@__security_check_cookie@4:PROC
EXTRN	_gl_vsync:DWORD
EXTRN	_vid_displayfrequency:DWORD
EXTRN	___security_cookie:DWORD
EXTRN	__fltused:DWORD
_BSS	SEGMENT
?string@?1??Host_EndGame@@9@9 DB 0400H DUP (?)		; `Host_EndGame'::`2'::string
$SG134610 DB	01H DUP (?)
	ALIGN	8

?oldtime@?1??Host_FilterTime@@9@9 DQ 01H DUP (?)	; `Host_FilterTime'::`2'::oldtime
?hosterror1@?1??Host_Error@@9@9 DB 0400H DUP (?)	; `Host_Error'::`2'::hosterror1
?hosterror2@?1??Host_Error@@9@9 DB 0400H DUP (?)	; `Host_Error'::`2'::hosterror2
?recursive@?1??Host_Error@@9@9 DD 01H DUP (?)		; `Host_Error'::`2'::recursive
	ALIGN	8

?oldtime@?1??Host_Main@@9@9 DQ 01H DUP (?)		; `Host_Main'::`2'::oldtime
?newtime@?1??Host_Main@@9@9 DQ 01H DUP (?)		; `Host_Main'::`2'::newtime
_BSS	ENDS
;	COMDAT __real@4069000000000000
CONST	SEGMENT
__real@4069000000000000 DQ 04069000000000000r	; 200
CONST	ENDS
;	COMDAT __real@404e000000000000
CONST	SEGMENT
__real@404e000000000000 DQ 0404e000000000000r	; 60
CONST	ENDS
;	COMDAT __real@4034000000000000
CONST	SEGMENT
__real@4034000000000000 DQ 04034000000000000r	; 20
CONST	ENDS
;	COMDAT __real@40000000
CONST	SEGMENT
__real@40000000 DD 040000000r			; 2
CONST	ENDS
;	COMDAT __real@3ff0000000000000
CONST	SEGMENT
__real@3ff0000000000000 DQ 03ff0000000000000r	; 1
CONST	ENDS
;	COMDAT __real@3fd0000000000000
CONST	SEGMENT
__real@3fd0000000000000 DQ 03fd0000000000000r	; 0.25
CONST	ENDS
;	COMDAT __real@3fb999999999999a
CONST	SEGMENT
__real@3fb999999999999a DQ 03fb999999999999ar	; 0.1
CONST	ENDS
;	COMDAT __real@3f1a36e2eb1c432d
CONST	SEGMENT
__real@3f1a36e2eb1c432d DQ 03f1a36e2eb1c432dr	; 0.0001
CONST	ENDS
;	COMDAT __real@0000000000000000
CONST	SEGMENT
__real@0000000000000000 DQ 00000000000000000r	; 0
CONST	ENDS
;	COMDAT __real@00000000
CONST	SEGMENT
__real@00000000 DD 000000000r			; 0
CONST	ENDS
_DATA	SEGMENT
$SG134543 DB	'Server was killed', 0aH, 00H
	ORG $+1
$SG134547 DB	'^3EXT:^7 big world support enabled', 0aH, 00H
$SG134549 DB	'^3EXT:^7 deluxemap support enabled', 0aH, 00H
$SG134551 DB	'^3EXT:^7 Improved MOVETYPE_PUSH is used', 0aH, 00H
	ORG $+3
$SG134553 DB	'^3EXT:^7 Large lightmaps enabled', 0aH, 00H
	ORG $+2
$SG134555 DB	'^3EXT:^7 Compensate quake bug enabled', 0aH, 00H
	ORG $+1
$SG134571 DB	'Host_EndGame: %s', 0aH, 00H
	ORG $+2
$SG134572 DB	0aH, 00H
	ORG $+2
$SG134602 DB	'Usage: game <directory>', 0aH, 00H
	ORG $+3
$SG134606 DB	'%s not exist', 0aH, 00H
	ORG $+2
$SG134609 DB	'%s already active', 0aH, 00H
	ORG $+1
$SG134611 DB	'#', 00H
	ORG $+2
$SG134612 DB	'%s%s', 00H
	ORG $+3
$SG134613 DB	'change game to ''%s''', 00H
$SG134622 DB	'Usage: exec <filename>', 0aH, 00H
$SG134624 DB	'game.cfg', 00H
	ORG $+3
$SG134626 DB	'.cfg', 00H
	ORG $+3
$SG134628 DB	'couldn''t exec %s', 0aH, 00H
	ORG $+2
$SG134630 DB	'config.cfg', 00H
	ORG $+1
$SG134632 DB	0aH, 00H
	ORG $+2
$SG134631 DB	'c:\users\user\downloads\xash_build4529_src\engine\common'
	DB	'\host.c', 00H
$SG134633 DB	'c:\users\user\downloads\xash_build4529_src\engine\common'
	DB	'\host.c', 00H
$SG134635 DB	'execing %s', 0aH, 00H
$SG134671 DB	'^1Error:^7 MAX_DECALS limit exceeded (%d)', 0aH, 00H
	ORG $+1
$SG134636 DB	'c:\users\user\downloads\xash_build4529_src\engine\common'
	DB	'\host.c', 00H
$SG134645 DB	'Usage: memlist <all>', 0aH, 00H
	ORG $+2
$SG134681 DB	'gfx/conchars', 00H
	ORG $+3
$SG134682 DB	'W_LoadWadFile: couldn''t load gfx.wad', 0aH, 00H
	ORG $+2
$SG134683 DB	'decals.wad/*.*', 00H
	ORG $+1
$SG134686 DB	'c:\users\user\downloads\xash_build4529_src\engine\common'
	DB	'\host.c', 00H
$SG134687 DB	'InitDecals: %i decals', 0aH, 00H
	ORG $+1
$SG134750 DB	'Host_InitError: %s', 00H
	ORG $+1
$SG134753 DB	'Host_MultiError: %s', 00H
$SG134756 DB	'Host_Error: %s', 00H
	ORG $+1
$SG134757 DB	'Host Error', 00H
	ORG $+1
$SG134760 DB	'Host_RecursiveError: %s', 00H
$SG134761 DB	'Server crashed: %s', 00H
	ORG $+1
$SG134767 DB	'Invoked host error', 00H
	ORG $+1
$SG134768 DB	'%s', 0aH, 00H
$SG134774 DB	'Invoked sys error', 00H
	ORG $+2
$SG134775 DB	'%s', 0aH, 00H
$SG134810 DB	'couldn''t determine current directory', 0aH, 00H
	ORG $+2
$SG134817 DB	'c:\users\user\downloads\xash_build4529_src\engine\common'
	DB	'\host.c', 00H
$SG134818 DB	'Zone Engine', 00H
$SG134822 DB	'-console', 00H
	ORG $+3
$SG134823 DB	'quake', 00H
	ORG $+2
$SG134825 DB	'-dev', 00H
	ORG $+3
$SG134827 DB	'-dev', 00H
	ORG $+3
$SG134834 DB	'-dedicated', 00H
	ORG $+1
$SG134837 DB	'Xash Dedicated Server', 00H
	ORG $+2
$SG134839 DB	'Xash Error', 00H
	ORG $+1
$SG134840 DB	'Dedicated server already running', 00H
	ORG $+3
$SG134841 DB	'Xash Dedicated Server', 00H
	ORG $+2
$SG134843 DB	'Sys_LoadLibrary: Loading xash.dll - ok', 0aH, 00H
$SG134844 DB	'%i', 00H
	ORG $+1
$SG134846 DB	'-sys_ticrate', 00H
	ORG $+3
$SG134847 DB	'sys_ticrate', 00H
$SG134848 DB	'execute a script file', 00H
	ORG $+2
$SG134849 DB	'exec', 00H
	ORG $+3
$SG134850 DB	'prints memory pool information', 00H
	ORG $+1
$SG134851 DB	'memlist', 00H
$SG134853 DB	'0', 00H
	ORG $+2
$SG134875 DB	'just throw a fatal error to test shutdown procedures', 00H
	ORG $+3
$SG134876 DB	'sys_error', 00H
	ORG $+2
$SG134877 DB	'just throw a host error to test shutdown procedures', 00H
$SG134878 DB	'host_error', 00H
	ORG $+1
$SG134879 DB	'a way to force a bus error for development reasons', 00H
	ORG $+1
$SG134880 DB	'crash', 00H
	ORG $+2
$SG134881 DB	'displays current server state', 00H
	ORG $+2
$SG134882 DB	'0', 00H
	ORG $+2
$SG134883 DB	'host_serverstate', 00H
	ORG $+3
$SG134884 DB	'host fps upper limit', 00H
	ORG $+3
$SG134885 DB	'72', 00H
	ORG $+1
$SG134886 DB	'fps_max', 00H
$SG134887 DB	'locks frame timing to this value in seconds', 00H
$SG134888 DB	'0', 00H
	ORG $+2
$SG134889 DB	'host_framerate', 00H
	ORG $+1
$SG134890 DB	'inidcates a loaded game.dll', 00H
$SG134891 DB	'0', 00H
	ORG $+2
$SG134892 DB	'host_gameloaded', 00H
$SG134893 DB	'inidcates a loaded client.dll', 00H
	ORG $+2
$SG134894 DB	'0', 00H
	ORG $+2
$SG134895 DB	'host_clientloaded', 00H
	ORG $+2
$SG134896 DB	'apply cl_cmdrate and rate to loopback connection', 00H
	ORG $+3
$SG134897 DB	'0', 00H
	ORG $+2
$SG134898 DB	'host_limitlocal', 00H
$SG134899 DB	'when true show only maps in game folder', 00H
$SG134900 DB	'1', 00H
	ORG $+2
$SG134901 DB	'con_mapfilter', 00H
	ORG $+2
$SG134902 DB	'returns a current build number', 00H
	ORG $+1
$SG134903 DB	'%i', 00H
	ORG $+1
$SG134904 DB	'buildnum', 00H
	ORG $+3
$SG134905 DB	'shows an engine version', 00H
$SG134906 DB	'0.99', 00H
	ORG $+3
$SG134907 DB	'%i/%s (hw build %i)', 00H
$SG134908 DB	'ver', 00H
$SG134911 DB	'change game', 00H
$SG134912 DB	'game', 00H
	ORG $+3
$SG134913 DB	'allows to change games', 00H
	ORG $+1
$SG134914 DB	'1', 00H
	ORG $+2
$SG134915 DB	'host_allow_changegame', 00H
	ORG $+2
$SG134916 DB	'allows to change games', 00H
	ORG $+1
$SG134917 DB	'0', 00H
	ORG $+2
$SG134918 DB	'host_allow_changegame', 00H
	ORG $+2
$SG134921 DB	'quit the game', 00H
	ORG $+2
$SG134922 DB	'quit', 00H
	ORG $+3
$SG134923 DB	'quit the game', 00H
	ORG $+2
$SG134924 DB	'exit', 00H
	ORG $+3
$SG134925 DB	'minimize main window to tray', 00H
	ORG $+3
$SG134926 DB	'minimize', 00H
	ORG $+3
$SG134928 DB	'exec %s.rc', 0aH, 00H
$SG134930 DB	'exec config.cfg', 0aH, 00H
	ORG $+3
$SG134932 DB	'setgl', 00H
	ORG $+2
$SG134934 DB	'type ''map <mapname>'' to run server... (TAB-autocomplet'
	DB	'e is working too)', 0aH, 00H
	ORG $+3
$SG134940 DB	'Server shutdown', 00H
$SG134942 DB	'Server shutdown', 0aH, 00H
	ORG $+3
$SG134943 DB	'c:\users\user\downloads\xash_build4529_src\engine\common'
	DB	'\host.c', 00H
_DATA	ENDS
; Function compile flags: /Odtp
; File c:\users\user\downloads\xash_build4529_src\engine\common\host.c
_TEXT	SEGMENT
_hinstDLL$ = 8						; size = 4
_fdwReason$ = 12					; size = 4
_lpvReserved$ = 16					; size = 4
_DllMain@12 PROC

; 938  : {

	push	ebp
	mov	ebp, esp

; 939  : 	hCurrent = hinstDLL;

	mov	eax, DWORD PTR _hinstDLL$[ebp]
	mov	DWORD PTR _hCurrent, eax

; 940  : 	return TRUE;

	mov	eax, 1

; 941  : }

	pop	ebp
	ret	12					; 0000000cH
_DllMain@12 ENDP
_TEXT	ENDS
; Function compile flags: /Odtp
; File c:\users\user\downloads\xash_build4529_src\engine\common\host.c
_TEXT	SEGMENT
tv292 = -12						; size = 8
tv217 = -4						; size = 4
_progname$ = 8						; size = 4
_bChangeGame$ = 12					; size = 4
_func$ = 16						; size = 4
_Host_Main PROC

; 809  : {

	push	ebp
	mov	ebp, esp
	sub	esp, 12					; 0000000cH

; 810  : 	static double	oldtime, newtime;
; 811  : 
; 812  : 	pChangeGame = func;	// may be NULL

	mov	eax, DWORD PTR _func$[ebp]
	mov	DWORD PTR _pChangeGame, eax

; 813  : 
; 814  : 	Host_InitCommon( progname, bChangeGame );

	mov	ecx, DWORD PTR _bChangeGame$[ebp]
	push	ecx
	mov	edx, DWORD PTR _progname$[ebp]
	push	edx
	call	_Host_InitCommon
	add	esp, 8

; 815  : 
; 816  : 	// init commands and vars
; 817  : 	if( host_developer.value >= DEV_EXTENDED )

	movss	xmm0, DWORD PTR _host_developer+12
	comiss	xmm0, DWORD PTR __real@40000000
	jb	SHORT $LN6@Host_Main

; 818  : 	{
; 819  : 		Cmd_AddCommand ( "sys_error", Sys_Error_f, "just throw a fatal error to test shutdown procedures");

	push	OFFSET $SG134875
	push	OFFSET _Sys_Error_f
	push	OFFSET $SG134876
	call	_Cmd_AddCommand
	add	esp, 12					; 0000000cH

; 820  : 		Cmd_AddCommand ( "host_error", Host_Error_f, "just throw a host error to test shutdown procedures");

	push	OFFSET $SG134877
	push	OFFSET _Host_Error_f
	push	OFFSET $SG134878
	call	_Cmd_AddCommand
	add	esp, 12					; 0000000cH

; 821  : 		Cmd_AddCommand ( "crash", Host_Crash_f, "a way to force a bus error for development reasons");

	push	OFFSET $SG134879
	push	OFFSET _Host_Crash_f
	push	OFFSET $SG134880
	call	_Cmd_AddCommand
	add	esp, 12					; 0000000cH
$LN6@Host_Main:

; 822  : 	}
; 823  : 
; 824  : 	host_serverstate = Cvar_Get( "host_serverstate", "0", FCVAR_READ_ONLY, "displays current server state" );

	push	OFFSET $SG134881
	push	131072					; 00020000H
	push	OFFSET $SG134882
	push	OFFSET $SG134883
	call	_Cvar_Get
	add	esp, 16					; 00000010H
	mov	DWORD PTR _host_serverstate, eax

; 825  : 	host_maxfps = Cvar_Get( "fps_max", "72", FCVAR_ARCHIVE, "host fps upper limit" );

	push	OFFSET $SG134884
	push	1
	push	OFFSET $SG134885
	push	OFFSET $SG134886
	call	_Cvar_Get
	add	esp, 16					; 00000010H
	mov	DWORD PTR _host_maxfps, eax

; 826  : 	host_framerate = Cvar_Get( "host_framerate", "0", 0, "locks frame timing to this value in seconds" );  

	push	OFFSET $SG134887
	push	0
	push	OFFSET $SG134888
	push	OFFSET $SG134889
	call	_Cvar_Get
	add	esp, 16					; 00000010H
	mov	DWORD PTR _host_framerate, eax

; 827  : 	host_gameloaded = Cvar_Get( "host_gameloaded", "0", FCVAR_READ_ONLY, "inidcates a loaded game.dll" );

	push	OFFSET $SG134890
	push	131072					; 00020000H
	push	OFFSET $SG134891
	push	OFFSET $SG134892
	call	_Cvar_Get
	add	esp, 16					; 00000010H
	mov	DWORD PTR _host_gameloaded, eax

; 828  : 	host_clientloaded = Cvar_Get( "host_clientloaded", "0", FCVAR_READ_ONLY, "inidcates a loaded client.dll" );

	push	OFFSET $SG134893
	push	131072					; 00020000H
	push	OFFSET $SG134894
	push	OFFSET $SG134895
	call	_Cvar_Get
	add	esp, 16					; 00000010H
	mov	DWORD PTR _host_clientloaded, eax

; 829  : 	host_limitlocal = Cvar_Get( "host_limitlocal", "0", 0, "apply cl_cmdrate and rate to loopback connection" );

	push	OFFSET $SG134896
	push	0
	push	OFFSET $SG134897
	push	OFFSET $SG134898
	call	_Cvar_Get
	add	esp, 16					; 00000010H
	mov	DWORD PTR _host_limitlocal, eax

; 830  : 	con_gamemaps = Cvar_Get( "con_mapfilter", "1", FCVAR_ARCHIVE, "when true show only maps in game folder" );

	push	OFFSET $SG134899
	push	1
	push	OFFSET $SG134900
	push	OFFSET $SG134901
	call	_Cvar_Get
	add	esp, 16					; 00000010H
	mov	DWORD PTR _con_gamemaps, eax

; 831  : 	build = Cvar_Get( "buildnum", va( "%i", Q_buildnum()), FCVAR_READ_ONLY, "returns a current build number" );

	push	OFFSET $SG134902
	push	131072					; 00020000H
	call	_Q_buildnum
	push	eax
	push	OFFSET $SG134903
	call	_va
	add	esp, 8
	push	eax
	push	OFFSET $SG134904
	call	_Cvar_Get
	add	esp, 16					; 00000010H
	mov	DWORD PTR _build, eax

; 832  : 	ver = Cvar_Get( "ver", va( "%i/%s (hw build %i)", PROTOCOL_VERSION, XASH_VERSION, Q_buildnum()), FCVAR_READ_ONLY, "shows an engine version" );

	push	OFFSET $SG134905
	push	131072					; 00020000H
	call	_Q_buildnum
	push	eax
	push	OFFSET $SG134906
	push	49					; 00000031H
	push	OFFSET $SG134907
	call	_va
	add	esp, 16					; 00000010H
	push	eax
	push	OFFSET $SG134908
	call	_Cvar_Get
	add	esp, 16					; 00000010H
	mov	DWORD PTR _ver, eax

; 833  : 
; 834  : 	Mod_Init();

	call	_Mod_Init

; 835  : 	NET_Init();

	call	_NET_Init

; 836  : 	Netchan_Init();

	call	_Netchan_Init

; 837  : 
; 838  : 	// allow to change game from the console
; 839  : 	if( pChangeGame != NULL )

	cmp	DWORD PTR _pChangeGame, 0
	je	SHORT $LN7@Host_Main

; 840  : 	{
; 841  : 		Cmd_AddCommand( "game", Host_ChangeGame_f, "change game" );

	push	OFFSET $SG134911
	push	OFFSET _Host_ChangeGame_f
	push	OFFSET $SG134912
	call	_Cmd_AddCommand
	add	esp, 12					; 0000000cH

; 842  : 		Cvar_Get( "host_allow_changegame", "1", FCVAR_READ_ONLY, "allows to change games" );

	push	OFFSET $SG134913
	push	131072					; 00020000H
	push	OFFSET $SG134914
	push	OFFSET $SG134915
	call	_Cvar_Get
	add	esp, 16					; 00000010H

; 843  : 	}

	jmp	SHORT $LN8@Host_Main
$LN7@Host_Main:

; 844  : 	else
; 845  : 	{
; 846  : 		Cvar_Get( "host_allow_changegame", "0", FCVAR_READ_ONLY, "allows to change games" );

	push	OFFSET $SG134916
	push	131072					; 00020000H
	push	OFFSET $SG134917
	push	OFFSET $SG134918
	call	_Cvar_Get
	add	esp, 16					; 00000010H
$LN8@Host_Main:

; 847  : 	}
; 848  : 
; 849  : 	SV_Init();

	call	_SV_Init

; 850  : 	CL_Init();

	call	_CL_Init

; 851  : 
; 852  : 	if( host.type == HOST_DEDICATED )

	cmp	DWORD PTR _host+164, 1
	jne	SHORT $LN9@Host_Main

; 853  : 	{
; 854  : 		Con_InitConsoleCommands ();

	call	_Con_InitConsoleCommands

; 855  : 
; 856  : 		Cmd_AddCommand( "quit", Sys_Quit, "quit the game" );

	push	OFFSET $SG134921
	push	OFFSET _Sys_Quit
	push	OFFSET $SG134922
	call	_Cmd_AddCommand
	add	esp, 12					; 0000000cH

; 857  : 		Cmd_AddCommand( "exit", Sys_Quit, "quit the game" );

	push	OFFSET $SG134923
	push	OFFSET _Sys_Quit
	push	OFFSET $SG134924
	call	_Cmd_AddCommand
	add	esp, 12					; 0000000cH

; 858  : 	}

	jmp	SHORT $LN10@Host_Main
$LN9@Host_Main:

; 859  : 	else Cmd_AddCommand( "minimize", Host_Minimize_f, "minimize main window to tray" );

	push	OFFSET $SG134925
	push	OFFSET _Host_Minimize_f
	push	OFFSET $SG134926
	call	_Cmd_AddCommand
	add	esp, 12					; 0000000cH
$LN10@Host_Main:

; 860  : 
; 861  : 	host.errorframe = 0;

	mov	DWORD PTR _host+232, 0

; 862  : 
; 863  : 	// post initializations
; 864  : 	switch( host.type )

	mov	eax, DWORD PTR _host+164
	mov	DWORD PTR tv217[ebp], eax
	cmp	DWORD PTR tv217[ebp], 0
	je	SHORT $LN11@Host_Main
	cmp	DWORD PTR tv217[ebp], 1
	je	SHORT $LN13@Host_Main
	jmp	SHORT $LN2@Host_Main
$LN11@Host_Main:

; 865  : 	{
; 866  : 	case HOST_NORMAL:
; 867  : 		Con_ShowConsole( false ); // hide console

	push	0
	call	_Con_ShowConsole
	add	esp, 4

; 868  : 		// execute startup config and cmdline
; 869  : 		Cbuf_AddText( va( "exec %s.rc\n", SI.rcName ));

	push	OFFSET _SI+256
	push	OFFSET $SG134928
	call	_va
	add	esp, 8
	push	eax
	call	_Cbuf_AddText
	add	esp, 4

; 870  : 		Cbuf_Execute();

	call	_Cbuf_Execute

; 871  : 		if( !host.config_executed )

	cmp	DWORD PTR _host+34396, 0
	jne	SHORT $LN12@Host_Main

; 872  : 		{
; 873  : 			Cbuf_AddText( "exec config.cfg\n" );

	push	OFFSET $SG134930
	call	_Cbuf_AddText
	add	esp, 4

; 874  : 			Cbuf_Execute();

	call	_Cbuf_Execute
$LN12@Host_Main:

; 875  : 		}
; 876  : 		break;

	jmp	SHORT $LN2@Host_Main
$LN13@Host_Main:

; 877  : 	case HOST_DEDICATED:
; 878  : 		// allways parse commandline in dedicated-mode
; 879  : 		host.stuffcmds_pending = true;

	mov	DWORD PTR _host+34348, 1
$LN2@Host_Main:

; 880  : 		break;
; 881  : 	}
; 882  : 
; 883  : 	host.change_game = false;	// done

	mov	DWORD PTR _host+34368, 0

; 884  : 	Cmd_RemoveCommand( "setgl" );

	push	OFFSET $SG134932
	call	_Cmd_RemoveCommand
	add	esp, 4

; 885  : 	Cbuf_ExecStuffCmds();	// execute stuffcmds (commandline)

	call	_Cbuf_ExecStuffCmds

; 886  : 	SCR_CheckStartupVids();	// must be last

	call	_SCR_CheckStartupVids

; 887  : 
; 888  : 	oldtime = Sys_DoubleTime() - 0.1;

	call	_Sys_DoubleTime
	fstp	QWORD PTR tv292[ebp]
	movsd	xmm0, QWORD PTR tv292[ebp]
	subsd	xmm0, QWORD PTR __real@3fb999999999999a
	movsd	QWORD PTR ?oldtime@?1??Host_Main@@9@9, xmm0

; 889  : 
; 890  : 	if( host.type == HOST_DEDICATED && GameState->nextstate == STATE_RUNFRAME )

	cmp	DWORD PTR _host+164, 1
	jne	SHORT $LN14@Host_Main
	cmp	DWORD PTR _host+20, 0
	jne	SHORT $LN14@Host_Main

; 891  : 		Con_Printf( "type 'map <mapname>' to run server... (TAB-autocomplete is working too)\n" );

	push	OFFSET $SG134934
	call	_Con_Printf
	add	esp, 4
$LN14@Host_Main:

; 892  : 
; 893  : 	// main window message loop
; 894  : 	while( !host.crashed )

	cmp	DWORD PTR _host+34404, 0
	jne	SHORT $LN5@Host_Main

; 895  : 	{
; 896  : 		newtime = Sys_DoubleTime ();

	call	_Sys_DoubleTime
	fstp	QWORD PTR ?newtime@?1??Host_Main@@9@9

; 897  : 		COM_Frame( newtime - oldtime );

	movsd	xmm0, QWORD PTR ?newtime@?1??Host_Main@@9@9
	subsd	xmm0, QWORD PTR ?oldtime@?1??Host_Main@@9@9
	cvtsd2ss xmm0, xmm0
	push	ecx
	movss	DWORD PTR [esp], xmm0
	call	_COM_Frame
	add	esp, 4

; 898  : 		oldtime = newtime;

	movsd	xmm0, QWORD PTR ?newtime@?1??Host_Main@@9@9
	movsd	QWORD PTR ?oldtime@?1??Host_Main@@9@9, xmm0

; 899  : 	}

	jmp	SHORT $LN14@Host_Main
$LN5@Host_Main:

; 900  : 
; 901  : 	// never reached
; 902  : 	return 0;

	xor	eax, eax

; 903  : }

	mov	esp, ebp
	pop	ebp
	ret	0
_Host_Main ENDP
_TEXT	ENDS
; Function compile flags: /Odtp
; File c:\users\user\downloads\xash_build4529_src\engine\common\host.c
_TEXT	SEGMENT
_Host_FreeCommon PROC

; 795  : {

	push	ebp
	mov	ebp, esp

; 796  : 	Image_Shutdown();

	call	_Image_Shutdown

; 797  : 	Sound_Shutdown();

	call	_Sound_Shutdown

; 798  : 	Netchan_Shutdown();

	call	_Netchan_Shutdown

; 799  : 	HPAK_FlushHostQueue();

	call	_HPAK_FlushHostQueue

; 800  : 	FS_Shutdown();

	call	_FS_Shutdown

; 801  : }

	pop	ebp
	ret	0
_Host_FreeCommon ENDP
_TEXT	ENDS
; Function compile flags: /Odtp
; File c:\users\user\downloads\xash_build4529_src\engine\common\host.c
_TEXT	SEGMENT
_fps$ = -1660						; size = 8
tv403 = -1652						; size = 8
tv397 = -1644						; size = 8
tv296 = -1636						; size = 8
tv295 = -1628						; size = 8
tv190 = -1620						; size = 4
tv189 = -1616						; size = 4
_parse_cmdline$ = -1612					; size = 4
$T1 = -1608						; size = 4
_developer$ = -1604					; size = 4
_dev_level$ = -1600					; size = 4
_in$ = -1596						; size = 4
_out$ = -1592						; size = 4
_lpBuffer$ = -1588					; size = 32
_szTemp$ = -1556					; size = 1024
_szRootPath$ = -532					; size = 256
_cmdline$ = -276					; size = 128
_progname$ = -148					; size = 128
_ticrate$ = -20						; size = 16
__$ArrayPad$ = -4					; size = 4
_hostname$ = 8						; size = 4
_bChangeGame$ = 12					; size = 4
_Host_InitCommon PROC

; 611  : {

	push	ebp
	mov	ebp, esp
	sub	esp, 1660				; 0000067cH
	mov	eax, DWORD PTR ___security_cookie
	xor	eax, ebp
	mov	DWORD PTR __$ArrayPad$[ebp], eax

; 612  : 	MEMORYSTATUS	lpBuffer;
; 613  : 	char		dev_level[4];
; 614  : 	char		ticrate[16];
; 615  : 	char		progname[128];
; 616  : 	char		cmdline[128];
; 617  : 	qboolean		parse_cmdline = false;

	mov	DWORD PTR _parse_cmdline$[ebp], 0

; 618  : 	char		szTemp[MAX_SYSPATH];
; 619  : 	int		developer = 0;

	mov	DWORD PTR _developer$[ebp], 0

; 620  : 	string		szRootPath;
; 621  : 	char		*in, *out;
; 622  : 	double		fps;
; 623  : 
; 624  : 	lpBuffer.dwLength = sizeof( MEMORYSTATUS );

	mov	DWORD PTR _lpBuffer$[ebp], 32		; 00000020H

; 625  : 	GlobalMemoryStatus( &lpBuffer );

	lea	eax, DWORD PTR _lpBuffer$[ebp]
	push	eax
	call	DWORD PTR __imp__GlobalMemoryStatus@4

; 626  : 
; 627  : 	if( !GetCurrentDirectory( sizeof( host.rootdir ), host.rootdir ))

	push	OFFSET _host+34420
	push	256					; 00000100H
	call	DWORD PTR __imp__GetCurrentDirectoryA@8
	test	eax, eax
	jne	SHORT $LN4@Host_InitC

; 628  : 		Sys_Error( "couldn't determine current directory\n" );

	push	OFFSET $SG134810
	call	_Sys_Error
	add	esp, 4
$LN4@Host_InitC:

; 629  : 
; 630  : 	if( host.rootdir[Q_strlen( host.rootdir ) - 1] == '/' )

	push	OFFSET _host+34420
	call	_Q_strlen
	add	esp, 4
	movsx	ecx, BYTE PTR _host[eax+34419]
	cmp	ecx, 47					; 0000002fH
	jne	SHORT $LN5@Host_InitC

; 631  : 		host.rootdir[Q_strlen( host.rootdir ) - 1] = 0;

	push	OFFSET _host+34420
	call	_Q_strlen
	add	esp, 4
	mov	BYTE PTR _host[eax+34419], 0
$LN5@Host_InitC:

; 632  : 
; 633  : 	host.oldFilter = SetUnhandledExceptionFilter( Sys_Crash );

	push	OFFSET _Sys_Crash@4
	call	DWORD PTR __imp__SetUnhandledExceptionFilter@4
	mov	DWORD PTR _host+8, eax

; 634  : 	host.hInst = GetModuleHandle( NULL );

	push	0
	call	DWORD PTR __imp__GetModuleHandleA@4
	mov	DWORD PTR _host, eax

; 635  : 	host.change_game = bChangeGame;

	mov	edx, DWORD PTR _bChangeGame$[ebp]
	mov	DWORD PTR _host+34368, edx

; 636  : 	host.config_executed = false;

	mov	DWORD PTR _host+34396, 0

; 637  : 	host.status = HOST_INIT; // initialzation started

	mov	DWORD PTR _host+12, 0

; 638  : 
; 639  : 	Memory_Init(); // init memory subsystem

	call	_Memory_Init

; 640  : 
; 641  : 	progname[0] = cmdline[0] = '\0';

	mov	eax, 1
	imul	ecx, eax, 0
	mov	DWORD PTR $T1[ebp], ecx
	cmp	DWORD PTR $T1[ebp], 128			; 00000080H
	jae	SHORT $LN29@Host_InitC
	jmp	SHORT $LN30@Host_InitC
$LN29@Host_InitC:
	call	___report_rangecheckfailure
$LN30@Host_InitC:
	mov	edx, DWORD PTR $T1[ebp]
	mov	BYTE PTR _cmdline$[ebp+edx], 0
	mov	eax, 1
	imul	ecx, eax, 0
	mov	BYTE PTR _progname$[ebp+ecx], 0

; 642  : 	in = (char *)hostname;

	mov	edx, DWORD PTR _hostname$[ebp]
	mov	DWORD PTR _in$[ebp], edx

; 643  : 	out = progname;

	lea	eax, DWORD PTR _progname$[ebp]
	mov	DWORD PTR _out$[ebp], eax
$LN2@Host_InitC:

; 644  : 
; 645  : 	while( *in != '\0' )

	mov	ecx, DWORD PTR _in$[ebp]
	movsx	edx, BYTE PTR [ecx]
	test	edx, edx
	je	$LN3@Host_InitC

; 646  : 	{
; 647  : 		if( parse_cmdline )

	cmp	DWORD PTR _parse_cmdline$[ebp], 0
	je	SHORT $LN6@Host_InitC

; 648  : 		{
; 649  : 			*out++ = *in++;

	mov	eax, DWORD PTR _out$[ebp]
	mov	ecx, DWORD PTR _in$[ebp]
	mov	dl, BYTE PTR [ecx]
	mov	BYTE PTR [eax], dl
	mov	eax, DWORD PTR _out$[ebp]
	add	eax, 1
	mov	DWORD PTR _out$[ebp], eax
	mov	ecx, DWORD PTR _in$[ebp]
	add	ecx, 1
	mov	DWORD PTR _in$[ebp], ecx

; 650  : 		}

	jmp	$LN9@Host_InitC
$LN6@Host_InitC:

; 651  : 		else
; 652  : 		{
; 653  : 			// now we found cmdline
; 654  : 			if( *in == ' ' && ( in[1] == '+' || in[1] == '-' ))

	mov	edx, DWORD PTR _in$[ebp]
	movsx	eax, BYTE PTR [edx]
	cmp	eax, 32					; 00000020H
	jne	SHORT $LN8@Host_InitC
	mov	ecx, 1
	shl	ecx, 0
	mov	edx, DWORD PTR _in$[ebp]
	movsx	eax, BYTE PTR [edx+ecx]
	cmp	eax, 43					; 0000002bH
	je	SHORT $LN10@Host_InitC
	mov	ecx, 1
	shl	ecx, 0
	mov	edx, DWORD PTR _in$[ebp]
	movsx	eax, BYTE PTR [edx+ecx]
	cmp	eax, 45					; 0000002dH
	jne	SHORT $LN8@Host_InitC
$LN10@Host_InitC:

; 655  : 			{
; 656  : 				parse_cmdline = true;

	mov	DWORD PTR _parse_cmdline$[ebp], 1

; 657  : 				*out++ = '\0';

	mov	ecx, DWORD PTR _out$[ebp]
	mov	BYTE PTR [ecx], 0
	mov	edx, DWORD PTR _out$[ebp]
	add	edx, 1
	mov	DWORD PTR _out$[ebp], edx

; 658  : 				out = cmdline;

	lea	eax, DWORD PTR _cmdline$[ebp]
	mov	DWORD PTR _out$[ebp], eax

; 659  : 			}

	jmp	SHORT $LN9@Host_InitC
$LN8@Host_InitC:

; 660  : 			else *out++ = *in++; 

	mov	ecx, DWORD PTR _out$[ebp]
	mov	edx, DWORD PTR _in$[ebp]
	mov	al, BYTE PTR [edx]
	mov	BYTE PTR [ecx], al
	mov	ecx, DWORD PTR _out$[ebp]
	add	ecx, 1
	mov	DWORD PTR _out$[ebp], ecx
	mov	edx, DWORD PTR _in$[ebp]
	add	edx, 1
	mov	DWORD PTR _in$[ebp], edx
$LN9@Host_InitC:

; 661  : 		}
; 662  : 	}

	jmp	$LN2@Host_InitC
$LN3@Host_InitC:

; 663  : 	*out = '\0'; // write terminator

	mov	eax, DWORD PTR _out$[ebp]
	mov	BYTE PTR [eax], 0

; 664  : 
; 665  : 	Sys_ParseCommandLine( GetCommandLine( ), false );

	push	0
	call	DWORD PTR __imp__GetCommandLineA@0
	push	eax
	call	_Sys_ParseCommandLine
	add	esp, 8

; 666  : 	SetErrorMode( SEM_FAILCRITICALERRORS );	// no abort/retry/fail errors

	push	1
	call	DWORD PTR __imp__SetErrorMode@4

; 667  : 
; 668  : 	host.mempool = Mem_AllocPool( "Zone Engine" );

	push	668					; 0000029cH
	push	OFFSET $SG134817
	push	OFFSET $SG134818
	call	__Mem_AllocPool
	add	esp, 12					; 0000000cH
	mov	DWORD PTR _host+236, eax

; 669  : 
; 670  : 	// get name of executable
; 671  : 	if( GetModuleFileName( NULL, szTemp, sizeof( szTemp )))

	push	1024					; 00000400H
	lea	ecx, DWORD PTR _szTemp$[ebp]
	push	ecx
	push	0
	call	DWORD PTR __imp__GetModuleFileNameA@12
	test	eax, eax
	je	SHORT $LN11@Host_InitC

; 672  : 		COM_FileBase( szTemp, SI.exeName );

	push	OFFSET _SI
	lea	edx, DWORD PTR _szTemp$[ebp]
	push	edx
	call	_COM_FileBase
	add	esp, 8
$LN11@Host_InitC:

; 673  : 
; 674  : 	// HACKHACK: Quake console is always allowed
; 675  : 	if( Sys_CheckParm( "-console" ) || !Q_stricmp( SI.exeName, "quake" ))

	push	OFFSET $SG134822
	call	_Sys_CheckParm
	add	esp, 4
	test	eax, eax
	jne	SHORT $LN13@Host_InitC
	push	99999					; 0001869fH
	push	OFFSET $SG134823
	push	OFFSET _SI
	call	_Q_strnicmp
	add	esp, 12					; 0000000cH
	test	eax, eax
	jne	SHORT $LN12@Host_InitC
$LN13@Host_InitC:

; 676  : 		host.allow_console = true;

	mov	DWORD PTR _host+34336, 1
$LN12@Host_InitC:

; 677  : 
; 678  : 	if( Sys_CheckParm( "-dev" ))

	push	OFFSET $SG134825
	call	_Sys_CheckParm
	add	esp, 4
	test	eax, eax
	je	$LN16@Host_InitC

; 679  : 	{
; 680  : 		host.allow_console = true;

	mov	DWORD PTR _host+34336, 1

; 681  : 		developer = DEV_NORMAL;

	mov	DWORD PTR _developer$[ebp], 1

; 682  : 
; 683  : 		if( Sys_GetParmFromCmdLine( "-dev", dev_level ))

	push	4
	lea	eax, DWORD PTR _dev_level$[ebp]
	push	eax
	push	OFFSET $SG134827
	call	__Sys_GetParmFromCmdLine
	add	esp, 12					; 0000000cH
	test	eax, eax
	je	$LN16@Host_InitC

; 684  : 		{
; 685  : 			if( Q_isdigit( dev_level ))

	lea	ecx, DWORD PTR _dev_level$[ebp]
	push	ecx
	call	_Q_isdigit
	add	esp, 4
	test	eax, eax
	je	$LN16@Host_InitC

; 686  : 				developer = bound( DEV_NONE, abs( Q_atoi( dev_level )), DEV_EXTENDED );

	lea	edx, DWORD PTR _dev_level$[ebp]
	push	edx
	call	_Q_atoi
	add	esp, 4
	push	eax
	call	_abs
	add	esp, 4
	test	eax, eax
	jl	SHORT $LN33@Host_InitC
	lea	eax, DWORD PTR _dev_level$[ebp]
	push	eax
	call	_Q_atoi
	add	esp, 4
	push	eax
	call	_abs
	add	esp, 4
	cmp	eax, 2
	jge	SHORT $LN31@Host_InitC
	lea	ecx, DWORD PTR _dev_level$[ebp]
	push	ecx
	call	_Q_atoi
	add	esp, 4
	push	eax
	call	_abs
	add	esp, 4
	mov	DWORD PTR tv189[ebp], eax
	jmp	SHORT $LN32@Host_InitC
$LN31@Host_InitC:
	mov	DWORD PTR tv189[ebp], 2
$LN32@Host_InitC:
	mov	edx, DWORD PTR tv189[ebp]
	mov	DWORD PTR tv190[ebp], edx
	jmp	SHORT $LN34@Host_InitC
$LN33@Host_InitC:
	mov	DWORD PTR tv190[ebp], 0
$LN34@Host_InitC:
	mov	eax, DWORD PTR tv190[ebp]
	mov	DWORD PTR _developer$[ebp], eax
$LN16@Host_InitC:

; 687  : 		}
; 688  : 	}
; 689  : 
; 690  : 	host.type = HOST_NORMAL; // predict state

	mov	DWORD PTR _host+164, 0

; 691  : 	host.con_showalways = true;

	mov	DWORD PTR _host+34356, 1

; 692  : 
; 693  : 	COM_ExtractFilePath( szTemp, szRootPath );

	lea	ecx, DWORD PTR _szRootPath$[ebp]
	push	ecx
	lea	edx, DWORD PTR _szTemp$[ebp]
	push	edx
	call	_COM_ExtractFilePath
	add	esp, 8

; 694  : 	if( Q_stricmp( host.rootdir, szRootPath ))

	push	99999					; 0001869fH
	lea	eax, DWORD PTR _szRootPath$[ebp]
	push	eax
	push	OFFSET _host+34420
	call	_Q_strnicmp
	add	esp, 12					; 0000000cH
	test	eax, eax
	je	SHORT $LN17@Host_InitC

; 695  : 	{
; 696  : 		Q_strncpy( host.rootdir, szRootPath, sizeof( host.rootdir ));

	push	256					; 00000100H
	lea	ecx, DWORD PTR _szRootPath$[ebp]
	push	ecx
	push	OFFSET _host+34420
	call	_Q_strncpy
	add	esp, 12					; 0000000cH

; 697  : 		SetCurrentDirectory( host.rootdir );

	push	OFFSET _host+34420
	call	DWORD PTR __imp__SetCurrentDirectoryA@4
$LN17@Host_InitC:

; 698  : 	}
; 699  : 
; 700  : 	if( SI.exeName[0] == '#' ) host.type = HOST_DEDICATED; 

	mov	edx, 1
	imul	eax, edx, 0
	movsx	ecx, BYTE PTR _SI[eax]
	cmp	ecx, 35					; 00000023H
	jne	SHORT $LN18@Host_InitC
	mov	DWORD PTR _host+164, 1
$LN18@Host_InitC:

; 701  : 
; 702  : 	// determine host type
; 703  : 	if( progname[0] == '#' )

	mov	edx, 1
	imul	eax, edx, 0
	movsx	ecx, BYTE PTR _progname$[ebp+eax]
	cmp	ecx, 35					; 00000023H
	jne	SHORT $LN19@Host_InitC

; 704  : 	{
; 705  : 		Q_strncpy( SI.basedirName, progname + 1, sizeof( SI.basedirName ));

	push	256					; 00000100H
	lea	edx, DWORD PTR _progname$[ebp+1]
	push	edx
	push	OFFSET _SI+512
	call	_Q_strncpy
	add	esp, 12					; 0000000cH

; 706  : 		host.type = HOST_DEDICATED;

	mov	DWORD PTR _host+164, 1

; 707  : 	}

	jmp	SHORT $LN20@Host_InitC
$LN19@Host_InitC:

; 708  : 	else Q_strncpy( SI.basedirName, progname, sizeof( SI.basedirName )); 

	push	256					; 00000100H
	lea	eax, DWORD PTR _progname$[ebp]
	push	eax
	push	OFFSET _SI+512
	call	_Q_strncpy
	add	esp, 12					; 0000000cH
$LN20@Host_InitC:

; 709  : 
; 710  : 	if( Sys_CheckParm( "-dedicated" ))

	push	OFFSET $SG134834
	call	_Sys_CheckParm
	add	esp, 4
	test	eax, eax
	je	SHORT $LN21@Host_InitC

; 711  : 		host.type = HOST_DEDICATED;

	mov	DWORD PTR _host+164, 1
$LN21@Host_InitC:

; 712  : 
; 713  : 	if( host.type == HOST_DEDICATED )

	cmp	DWORD PTR _host+164, 1
	jne	SHORT $LN22@Host_InitC

; 714  : 	{
; 715  : 		// check for duplicate dedicated server
; 716  : 		host.hMutex = CreateMutex( NULL, 0, "Xash Dedicated Server" );

	push	OFFSET $SG134837
	push	0
	push	0
	call	DWORD PTR __imp__CreateMutexA@12
	mov	DWORD PTR _host+4, eax

; 717  : 
; 718  : 		if( !host.hMutex )

	cmp	DWORD PTR _host+4, 0
	jne	SHORT $LN24@Host_InitC

; 719  : 		{
; 720  : 			MSGBOX( "Dedicated server already running" );

	push	65552					; 00010010H
	push	OFFSET $SG134839
	push	OFFSET $SG134840
	push	0
	call	DWORD PTR __imp__MessageBoxA@16

; 721  : 			Sys_Quit();

	call	_Sys_Quit

; 722  : 			return;

	jmp	$LN1@Host_InitC
$LN24@Host_InitC:

; 723  : 		}
; 724  : 
; 725  : 		Sys_MergeCommandLine( cmdline );

	lea	ecx, DWORD PTR _cmdline$[ebp]
	push	ecx
	call	_Sys_MergeCommandLine
	add	esp, 4

; 726  : 
; 727  : 		CloseHandle( host.hMutex );

	mov	edx, DWORD PTR _host+4
	push	edx
	call	DWORD PTR __imp__CloseHandle@4

; 728  : 		host.hMutex = CreateSemaphore( NULL, 0, 1, "Xash Dedicated Server" );

	push	OFFSET $SG134841
	push	1
	push	0
	push	0
	call	DWORD PTR __imp__CreateSemaphoreA@16
	mov	DWORD PTR _host+4, eax

; 729  : 		host.allow_console = true;

	mov	DWORD PTR _host+34336, 1

; 730  : 	}

	jmp	SHORT $LN25@Host_InitC
$LN22@Host_InitC:

; 731  : 	else
; 732  : 	{
; 733  : 		// don't show console as default
; 734  : 		if( developer <= DEV_NORMAL )

	cmp	DWORD PTR _developer$[ebp], 1
	jg	SHORT $LN25@Host_InitC

; 735  : 			host.con_showalways = false;

	mov	DWORD PTR _host+34356, 0
$LN25@Host_InitC:

; 736  : 	}
; 737  : 
; 738  : 	// member console allowing
; 739  : 	host.allow_console_init = host.allow_console;

	mov	eax, DWORD PTR _host+34336
	mov	DWORD PTR _host+34340, eax

; 740  : 
; 741  : 	timeBeginPeriod( 1 );

	push	1
	call	DWORD PTR __imp__timeBeginPeriod@4

; 742  : 
; 743  : 	Con_CreateConsole(); // system console used by dedicated server or show fatal errors

	call	_Con_CreateConsole

; 744  : 
; 745  : 	// NOTE: this message couldn't be passed into game console but it doesn't matter
; 746  : 	Con_Reportf( "Sys_LoadLibrary: Loading xash.dll - ok\n" );

	push	OFFSET $SG134843
	call	_Con_Reportf
	add	esp, 4

; 747  : 
; 748  : 	// get default screen res
; 749  : 	VID_InitDefaultResolution();

	call	_VID_InitDefaultResolution

; 750  : 
; 751  : 	// init host state machine
; 752  : 	COM_InitHostState();

	call	_COM_InitHostState

; 753  : 
; 754  : 	// startup cmds and cvars subsystem
; 755  : 	Cmd_Init();

	call	_Cmd_Init

; 756  : 	Cvar_Init();

	call	_Cvar_Init

; 757  : 
; 758  : 	// share developer level across all dlls
; 759  : 	Q_snprintf( dev_level, sizeof( dev_level ), "%i", developer );

	mov	ecx, DWORD PTR _developer$[ebp]
	push	ecx
	push	OFFSET $SG134844
	push	4
	lea	edx, DWORD PTR _dev_level$[ebp]
	push	edx
	call	_Q_snprintf
	add	esp, 16					; 00000010H

; 760  : 	Cvar_DirectSet( &host_developer, dev_level );

	lea	eax, DWORD PTR _dev_level$[ebp]
	push	eax
	push	OFFSET _host_developer
	call	_Cvar_DirectSet
	add	esp, 8

; 761  : 	Cvar_RegisterVariable( &sys_ticrate );

	push	OFFSET _sys_ticrate
	call	_Cvar_RegisterVariable
	add	esp, 4

; 762  : 
; 763  : 	if( Sys_GetParmFromCmdLine( "-sys_ticrate", ticrate ))

	push	16					; 00000010H
	lea	ecx, DWORD PTR _ticrate$[ebp]
	push	ecx
	push	OFFSET $SG134846
	call	__Sys_GetParmFromCmdLine
	add	esp, 12					; 0000000cH
	test	eax, eax
	je	$LN26@Host_InitC

; 764  : 	{
; 765  : 		fps = bound( MIN_FPS, atof( ticrate ), MAX_FPS );

	lea	edx, DWORD PTR _ticrate$[ebp]
	push	edx
	call	DWORD PTR __imp__atof
	add	esp, 4
	fstp	QWORD PTR tv397[ebp]
	movsd	xmm0, QWORD PTR tv397[ebp]
	comisd	xmm0, QWORD PTR __real@4034000000000000
	jb	SHORT $LN37@Host_InitC
	lea	eax, DWORD PTR _ticrate$[ebp]
	push	eax
	call	DWORD PTR __imp__atof
	add	esp, 4
	fstp	QWORD PTR tv403[ebp]
	movsd	xmm0, QWORD PTR __real@4069000000000000
	comisd	xmm0, QWORD PTR tv403[ebp]
	jbe	SHORT $LN35@Host_InitC
	lea	ecx, DWORD PTR _ticrate$[ebp]
	push	ecx
	call	DWORD PTR __imp__atof
	add	esp, 4
	fstp	QWORD PTR tv295[ebp]
	jmp	SHORT $LN36@Host_InitC
$LN35@Host_InitC:
	movsd	xmm0, QWORD PTR __real@4069000000000000
	movsd	QWORD PTR tv295[ebp], xmm0
$LN36@Host_InitC:
	movsd	xmm0, QWORD PTR tv295[ebp]
	movsd	QWORD PTR tv296[ebp], xmm0
	jmp	SHORT $LN38@Host_InitC
$LN37@Host_InitC:
	movsd	xmm0, QWORD PTR __real@4034000000000000
	movsd	QWORD PTR tv296[ebp], xmm0
$LN38@Host_InitC:
	movsd	xmm0, QWORD PTR tv296[ebp]
	movsd	QWORD PTR _fps$[ebp], xmm0

; 766  : 		Cvar_SetValue( "sys_ticrate", fps );

	cvtsd2ss xmm0, QWORD PTR _fps$[ebp]
	push	ecx
	movss	DWORD PTR [esp], xmm0
	push	OFFSET $SG134847
	call	_Cvar_SetValue
	add	esp, 8
$LN26@Host_InitC:

; 767  : 	}
; 768  : 
; 769  : 	Con_Init(); // early console running to catch all the messages

	call	_Con_Init

; 770  : 	Cmd_AddCommand( "exec", Host_Exec_f, "execute a script file" );

	push	OFFSET $SG134848
	push	OFFSET _Host_Exec_f
	push	OFFSET $SG134849
	call	_Cmd_AddCommand
	add	esp, 12					; 0000000cH

; 771  : 	Cmd_AddCommand( "memlist", Host_MemStats_f, "prints memory pool information" );

	push	OFFSET $SG134850
	push	OFFSET _Host_MemStats_f
	push	OFFSET $SG134851
	call	_Cmd_AddCommand
	add	esp, 12					; 0000000cH

; 772  : 
; 773  : 	FS_Init();

	call	_FS_Init

; 774  : 	Image_Init();

	call	_Image_Init

; 775  : 	Sound_Init();

	call	_Sound_Init

; 776  : 
; 777  : 	FS_LoadGameInfo( NULL );

	push	0
	call	_FS_LoadGameInfo
	add	esp, 4

; 778  : 	Q_strncpy( host.gamefolder, GI->gamefolder, sizeof( host.gamefolder ));

	push	64					; 00000040H
	mov	edx, DWORD PTR _SI+768
	push	edx
	push	OFFSET _host+34676
	call	_Q_strncpy
	add	esp, 12					; 0000000cH

; 779  : 
; 780  : 	if( GI->secure )

	mov	eax, DWORD PTR _SI+768
	cmp	DWORD PTR [eax+1292], 0
	je	SHORT $LN27@Host_InitC

; 781  : 	{
; 782  : 		// clear all developer levels when game is protected
; 783  : 		Cvar_DirectSet( &host_developer, "0" );

	push	OFFSET $SG134853
	push	OFFSET _host_developer
	call	_Cvar_DirectSet
	add	esp, 8

; 784  : 		host.allow_console_init = false;

	mov	DWORD PTR _host+34340, 0

; 785  : 		host.con_showalways = false;

	mov	DWORD PTR _host+34356, 0

; 786  : 		host.allow_console = false;

	mov	DWORD PTR _host+34336, 0
$LN27@Host_InitC:

; 787  : 	}
; 788  : 	HPAK_Init();

	call	_HPAK_Init

; 789  : 
; 790  : 	IN_Init();

	call	_IN_Init

; 791  : 	Key_Init();

	call	_Key_Init
$LN1@Host_InitC:

; 792  : }

	mov	ecx, DWORD PTR __$ArrayPad$[ebp]
	xor	ecx, ebp
	call	@__security_check_cookie@4
	mov	esp, ebp
	pop	ebp
	ret	0
_Host_InitCommon ENDP
_TEXT	ENDS
; Function compile flags: /Odtp
; File c:\users\user\downloads\xash_build4529_src\engine\common\host.c
_TEXT	SEGMENT
_Host_Crash_f PROC

; 601  : {

	push	ebp
	mov	ebp, esp

; 602  : 	*(int *)0 = 0xffffffff;

	mov	DWORD PTR ds:0, -1

; 603  : }

	pop	ebp
	ret	0
_Host_Crash_f ENDP
_TEXT	ENDS
; Function compile flags: /Odtp
; File c:\users\user\downloads\xash_build4529_src\engine\common\host.c
_TEXT	SEGMENT
_error$ = -4						; size = 4
_Sys_Error_f PROC

; 588  : {

	push	ebp
	mov	ebp, esp
	push	ecx

; 589  : 	const char *error = Cmd_Argv( 1 );

	push	1
	call	_Cmd_Argv
	add	esp, 4
	mov	DWORD PTR _error$[ebp], eax

; 590  : 
; 591  : 	if( !*error ) error = "Invoked sys error";

	mov	eax, DWORD PTR _error$[ebp]
	movsx	ecx, BYTE PTR [eax]
	test	ecx, ecx
	jne	SHORT $LN2@Sys_Error_
	mov	DWORD PTR _error$[ebp], OFFSET $SG134774
$LN2@Sys_Error_:

; 592  : 	Sys_Error( "%s\n", error );

	mov	edx, DWORD PTR _error$[ebp]
	push	edx
	push	OFFSET $SG134775
	call	_Sys_Error
	add	esp, 8

; 593  : }

	mov	esp, ebp
	pop	ebp
	ret	0
_Sys_Error_f ENDP
_TEXT	ENDS
; Function compile flags: /Odtp
; File c:\users\user\downloads\xash_build4529_src\engine\common\host.c
_TEXT	SEGMENT
_error$ = -4						; size = 4
_Host_Error_f PROC

; 580  : {

	push	ebp
	mov	ebp, esp
	push	ecx

; 581  : 	const char *error = Cmd_Argv( 1 );

	push	1
	call	_Cmd_Argv
	add	esp, 4
	mov	DWORD PTR _error$[ebp], eax

; 582  : 
; 583  : 	if( !*error ) error = "Invoked host error";

	mov	eax, DWORD PTR _error$[ebp]
	movsx	ecx, BYTE PTR [eax]
	test	ecx, ecx
	jne	SHORT $LN2@Host_Error
	mov	DWORD PTR _error$[ebp], OFFSET $SG134767
$LN2@Host_Error:

; 584  : 	Host_Error( "%s\n", error );

	mov	edx, DWORD PTR _error$[ebp]
	push	edx
	push	OFFSET $SG134768
	call	_Host_Error
	add	esp, 8

; 585  : }

	mov	esp, ebp
	pop	ebp
	ret	0
_Host_Error_f ENDP
_TEXT	ENDS
; Function compile flags: /Odtp
; File c:\users\user\downloads\xash_build4529_src\engine\common\host.c
_TEXT	SEGMENT
tv146 = -72						; size = 8
tv145 = -64						; size = 8
tv142 = -56						; size = 8
tv141 = -48						; size = 8
tv89 = -40						; size = 8
tv88 = -32						; size = 8
tv71 = -24						; size = 8
tv70 = -16						; size = 8
_fps$ = -8						; size = 8
_time$ = 8						; size = 4
_Host_FilterTime PROC

; 443  : {

	push	ebp
	mov	ebp, esp
	sub	esp, 72					; 00000048H

; 444  : 	static double	oldtime;
; 445  : 	double		fps;
; 446  : 
; 447  : 	host.realtime += time;

	cvtss2sd xmm0, DWORD PTR _time$[ebp]
	addsd	xmm0, QWORD PTR _host+1440
	movsd	QWORD PTR _host+1440, xmm0

; 448  : 	fps = Host_CalcFPS( );

	call	_Host_CalcFPS
	fstp	QWORD PTR _fps$[ebp]

; 449  : 
; 450  : 	// clamp the fps in multiplayer games
; 451  : 	if( fps != 0.0 )

	movsd	xmm0, QWORD PTR _fps$[ebp]
	ucomisd	xmm0, QWORD PTR __real@0000000000000000
	lahf
	test	ah, 68					; 00000044H
	jnp	$LN6@Host_Filte

; 452  : 	{
; 453  : 		// limit fps to withing tolerable range
; 454  : 		fps = bound( MIN_FPS, fps, MAX_FPS );

	movsd	xmm0, QWORD PTR _fps$[ebp]
	comisd	xmm0, QWORD PTR __real@4034000000000000
	jb	SHORT $LN12@Host_Filte
	movsd	xmm0, QWORD PTR __real@4069000000000000
	comisd	xmm0, QWORD PTR _fps$[ebp]
	jbe	SHORT $LN10@Host_Filte
	movsd	xmm0, QWORD PTR _fps$[ebp]
	movsd	QWORD PTR tv70[ebp], xmm0
	jmp	SHORT $LN11@Host_Filte
$LN10@Host_Filte:
	movsd	xmm0, QWORD PTR __real@4069000000000000
	movsd	QWORD PTR tv70[ebp], xmm0
$LN11@Host_Filte:
	movsd	xmm0, QWORD PTR tv70[ebp]
	movsd	QWORD PTR tv71[ebp], xmm0
	jmp	SHORT $LN13@Host_Filte
$LN12@Host_Filte:
	movsd	xmm0, QWORD PTR __real@4034000000000000
	movsd	QWORD PTR tv71[ebp], xmm0
$LN13@Host_Filte:
	movsd	xmm0, QWORD PTR tv71[ebp]
	movsd	QWORD PTR _fps$[ebp], xmm0

; 455  : 
; 456  : 		if( host.type == HOST_DEDICATED )

	cmp	DWORD PTR _host+164, 1
	jne	SHORT $LN3@Host_Filte

; 457  : 		{
; 458  : 			if(( host.realtime - oldtime ) < ( 1.0 / ( fps + 1.0 )))

	movsd	xmm0, QWORD PTR _host+1440
	subsd	xmm0, QWORD PTR ?oldtime@?1??Host_FilterTime@@9@9
	movsd	xmm1, QWORD PTR _fps$[ebp]
	addsd	xmm1, QWORD PTR __real@3ff0000000000000
	movsd	xmm2, QWORD PTR __real@3ff0000000000000
	divsd	xmm2, xmm1
	comisd	xmm2, xmm0
	jbe	SHORT $LN5@Host_Filte

; 459  : 				return false;

	xor	eax, eax
	jmp	$LN1@Host_Filte
$LN5@Host_Filte:

; 460  : 		}

	jmp	SHORT $LN6@Host_Filte
$LN3@Host_Filte:

; 461  : 		else
; 462  : 		{
; 463  : 			if(( host.realtime - oldtime ) < ( 1.0 / fps ))

	movsd	xmm0, QWORD PTR _host+1440
	subsd	xmm0, QWORD PTR ?oldtime@?1??Host_FilterTime@@9@9
	movsd	xmm1, QWORD PTR __real@3ff0000000000000
	divsd	xmm1, QWORD PTR _fps$[ebp]
	comisd	xmm1, xmm0
	jbe	SHORT $LN6@Host_Filte

; 464  : 				return false;		

	xor	eax, eax
	jmp	$LN1@Host_Filte
$LN6@Host_Filte:

; 465  : 		}
; 466  : 	}
; 467  : 
; 468  : 	host.frametime = host.realtime - oldtime;

	movsd	xmm0, QWORD PTR _host+1440
	subsd	xmm0, QWORD PTR ?oldtime@?1??Host_FilterTime@@9@9
	movsd	QWORD PTR _host+1448, xmm0

; 469  : 	host.realframetime = bound( MIN_FRAMETIME, host.frametime, MAX_FRAMETIME );

	movsd	xmm0, QWORD PTR _host+1448
	comisd	xmm0, QWORD PTR __real@3f1a36e2eb1c432d
	jb	SHORT $LN16@Host_Filte
	movsd	xmm0, QWORD PTR __real@3fd0000000000000
	comisd	xmm0, QWORD PTR _host+1448
	jbe	SHORT $LN14@Host_Filte
	movsd	xmm0, QWORD PTR _host+1448
	movsd	QWORD PTR tv88[ebp], xmm0
	jmp	SHORT $LN15@Host_Filte
$LN14@Host_Filte:
	movsd	xmm0, QWORD PTR __real@3fd0000000000000
	movsd	QWORD PTR tv88[ebp], xmm0
$LN15@Host_Filte:
	movsd	xmm0, QWORD PTR tv88[ebp]
	movsd	QWORD PTR tv89[ebp], xmm0
	jmp	SHORT $LN17@Host_Filte
$LN16@Host_Filte:
	movsd	xmm0, QWORD PTR __real@3f1a36e2eb1c432d
	movsd	QWORD PTR tv89[ebp], xmm0
$LN17@Host_Filte:
	movsd	xmm0, QWORD PTR tv89[ebp]
	movsd	QWORD PTR _host+1456, xmm0

; 470  : 	oldtime = host.realtime;

	movsd	xmm0, QWORD PTR _host+1440
	movsd	QWORD PTR ?oldtime@?1??Host_FilterTime@@9@9, xmm0

; 471  : 
; 472  : 	// NOTE: allow only in singleplayer while demos are not active
; 473  : 	if( host_framerate->value > 0.0f && Host_IsLocalGame() && !CL_IsPlaybackDemo() && !CL_IsRecordDemo( ))

	mov	eax, DWORD PTR _host_framerate
	movss	xmm0, DWORD PTR [eax+12]
	comiss	xmm0, DWORD PTR __real@00000000
	jbe	$LN7@Host_Filte
	call	_Host_IsLocalGame
	test	eax, eax
	je	$LN7@Host_Filte
	call	_CL_IsPlaybackDemo
	test	eax, eax
	jne	$LN7@Host_Filte
	call	_CL_IsRecordDemo
	test	eax, eax
	jne	$LN7@Host_Filte

; 474  : 		host.frametime = bound( MIN_FRAMETIME, host_framerate->value, MAX_FRAMETIME );

	mov	ecx, DWORD PTR _host_framerate
	movss	xmm0, DWORD PTR [ecx+12]
	cvtss2sd xmm0, xmm0
	comisd	xmm0, QWORD PTR __real@3f1a36e2eb1c432d
	jb	SHORT $LN20@Host_Filte
	mov	edx, DWORD PTR _host_framerate
	movss	xmm0, DWORD PTR [edx+12]
	cvtss2sd xmm0, xmm0
	movsd	xmm1, QWORD PTR __real@3fd0000000000000
	comisd	xmm1, xmm0
	jbe	SHORT $LN18@Host_Filte
	mov	eax, DWORD PTR _host_framerate
	movss	xmm0, DWORD PTR [eax+12]
	cvtss2sd xmm0, xmm0
	movsd	QWORD PTR tv141[ebp], xmm0
	jmp	SHORT $LN19@Host_Filte
$LN18@Host_Filte:
	movsd	xmm0, QWORD PTR __real@3fd0000000000000
	movsd	QWORD PTR tv141[ebp], xmm0
$LN19@Host_Filte:
	movsd	xmm0, QWORD PTR tv141[ebp]
	movsd	QWORD PTR tv142[ebp], xmm0
	jmp	SHORT $LN21@Host_Filte
$LN20@Host_Filte:
	movsd	xmm0, QWORD PTR __real@3f1a36e2eb1c432d
	movsd	QWORD PTR tv142[ebp], xmm0
$LN21@Host_Filte:
	movsd	xmm0, QWORD PTR tv142[ebp]
	movsd	QWORD PTR _host+1448, xmm0
	jmp	SHORT $LN8@Host_Filte
$LN7@Host_Filte:

; 475  : 	else host.frametime = bound( MIN_FRAMETIME, host.frametime, MAX_FRAMETIME );

	movsd	xmm0, QWORD PTR _host+1448
	comisd	xmm0, QWORD PTR __real@3f1a36e2eb1c432d
	jb	SHORT $LN24@Host_Filte
	movsd	xmm0, QWORD PTR __real@3fd0000000000000
	comisd	xmm0, QWORD PTR _host+1448
	jbe	SHORT $LN22@Host_Filte
	movsd	xmm0, QWORD PTR _host+1448
	movsd	QWORD PTR tv145[ebp], xmm0
	jmp	SHORT $LN23@Host_Filte
$LN22@Host_Filte:
	movsd	xmm0, QWORD PTR __real@3fd0000000000000
	movsd	QWORD PTR tv145[ebp], xmm0
$LN23@Host_Filte:
	movsd	xmm0, QWORD PTR tv145[ebp]
	movsd	QWORD PTR tv146[ebp], xmm0
	jmp	SHORT $LN25@Host_Filte
$LN24@Host_Filte:
	movsd	xmm0, QWORD PTR __real@3f1a36e2eb1c432d
	movsd	QWORD PTR tv146[ebp], xmm0
$LN25@Host_Filte:
	movsd	xmm0, QWORD PTR tv146[ebp]
	movsd	QWORD PTR _host+1448, xmm0
$LN8@Host_Filte:

; 476  : 
; 477  : 	return true;

	mov	eax, 1
$LN1@Host_Filte:

; 478  : }

	mov	esp, ebp
	pop	ebp
	ret	0
_Host_FilterTime ENDP
_TEXT	ENDS
; Function compile flags: /Odtp
; File c:\users\user\downloads\xash_build4529_src\engine\common\host.c
_TEXT	SEGMENT
tv81 = -28						; size = 8
tv80 = -20						; size = 8
_fps$ = -12						; size = 8
tv90 = -4						; size = 4
_Host_CalcFPS PROC

; 397  : {

	push	ebp
	mov	ebp, esp
	sub	esp, 28					; 0000001cH

; 398  : 	double	fps = 0.0;

	xorps	xmm0, xmm0
	movsd	QWORD PTR _fps$[ebp], xmm0

; 399  : 
; 400  : 	// NOTE: we should play demos with same fps as it was recorded
; 401  : 	if( CL_IsPlaybackDemo() || CL_IsRecordDemo( ))

	call	_CL_IsPlaybackDemo
	test	eax, eax
	jne	SHORT $LN4@Host_CalcF
	call	_CL_IsRecordDemo
	test	eax, eax
	je	SHORT $LN2@Host_CalcF
$LN4@Host_CalcF:

; 402  : 	{
; 403  : 		fps = CL_GetDemoFramerate();

	call	_CL_GetDemoFramerate
	fstp	QWORD PTR _fps$[ebp]

; 404  : 	}

	jmp	$LN8@Host_CalcF
$LN2@Host_CalcF:

; 405  : 	else if( Host_IsLocalGame( ))

	call	_Host_IsLocalGame
	test	eax, eax
	je	SHORT $LN5@Host_CalcF

; 406  : 	{
; 407  : 		fps = host_maxfps->value;

	mov	eax, DWORD PTR _host_maxfps
	cvtss2sd xmm0, DWORD PTR [eax+12]
	movsd	QWORD PTR _fps$[ebp], xmm0

; 408  : 	}

	jmp	$LN8@Host_CalcF
$LN5@Host_CalcF:

; 409  : 	else if( host.type == HOST_DEDICATED )

	cmp	DWORD PTR _host+164, 1
	jne	SHORT $LN7@Host_CalcF

; 410  : 	{
; 411  : 		fps = sys_ticrate.value;

	cvtss2sd xmm0, DWORD PTR _sys_ticrate+12
	movsd	QWORD PTR _fps$[ebp], xmm0

; 412  : 	}

	jmp	$LN8@Host_CalcF
$LN7@Host_CalcF:

; 413  : 	else
; 414  : 	{
; 415  : 		fps = host_maxfps->value;

	mov	ecx, DWORD PTR _host_maxfps
	cvtss2sd xmm0, DWORD PTR [ecx+12]
	movsd	QWORD PTR _fps$[ebp], xmm0

; 416  : 		if( fps == 0.0 ) fps = MAX_FPS;

	movsd	xmm0, QWORD PTR _fps$[ebp]
	ucomisd	xmm0, QWORD PTR __real@0000000000000000
	lahf
	test	ah, 68					; 00000044H
	jp	SHORT $LN9@Host_CalcF
	movsd	xmm0, QWORD PTR __real@4069000000000000
	movsd	QWORD PTR _fps$[ebp], xmm0
$LN9@Host_CalcF:

; 417  : 		fps = bound( MIN_FPS, fps, MAX_FPS );

	movsd	xmm0, QWORD PTR _fps$[ebp]
	comisd	xmm0, QWORD PTR __real@4034000000000000
	jb	SHORT $LN17@Host_CalcF
	movsd	xmm0, QWORD PTR __real@4069000000000000
	comisd	xmm0, QWORD PTR _fps$[ebp]
	jbe	SHORT $LN15@Host_CalcF
	movsd	xmm0, QWORD PTR _fps$[ebp]
	movsd	QWORD PTR tv80[ebp], xmm0
	jmp	SHORT $LN16@Host_CalcF
$LN15@Host_CalcF:
	movsd	xmm0, QWORD PTR __real@4069000000000000
	movsd	QWORD PTR tv80[ebp], xmm0
$LN16@Host_CalcF:
	movsd	xmm0, QWORD PTR tv80[ebp]
	movsd	QWORD PTR tv81[ebp], xmm0
	jmp	SHORT $LN18@Host_CalcF
$LN17@Host_CalcF:
	movsd	xmm0, QWORD PTR __real@4034000000000000
	movsd	QWORD PTR tv81[ebp], xmm0
$LN18@Host_CalcF:
	movsd	xmm0, QWORD PTR tv81[ebp]
	movsd	QWORD PTR _fps$[ebp], xmm0
$LN8@Host_CalcF:

; 418  : 	}
; 419  : 
; 420  : 	// probably left part of this condition is redundant :-)
; 421  : 	if( host.type != HOST_DEDICATED && Host_IsLocalGame( ) && !CL_IsTimeDemo( ))

	cmp	DWORD PTR _host+164, 1
	je	SHORT $LN13@Host_CalcF
	call	_Host_IsLocalGame
	test	eax, eax
	je	SHORT $LN13@Host_CalcF
	call	_CL_IsTimeDemo
	test	eax, eax
	jne	SHORT $LN13@Host_CalcF

; 422  : 	{
; 423  : 		// ajdust fps for vertical synchronization
; 424  : 		if( CVAR_TO_BOOL( gl_vsync ))

	cmp	DWORD PTR _gl_vsync, 0
	je	SHORT $LN19@Host_CalcF
	mov	edx, DWORD PTR _gl_vsync
	movss	xmm0, DWORD PTR [edx+12]
	ucomiss	xmm0, DWORD PTR __real@00000000
	lahf
	test	ah, 68					; 00000044H
	jnp	SHORT $LN19@Host_CalcF
	mov	DWORD PTR tv90[ebp], 1
	jmp	SHORT $LN20@Host_CalcF
$LN19@Host_CalcF:
	mov	DWORD PTR tv90[ebp], 0
$LN20@Host_CalcF:
	cmp	DWORD PTR tv90[ebp], 0
	je	SHORT $LN13@Host_CalcF

; 425  : 		{
; 426  : 			if( vid_displayfrequency->value != 0.0f )

	mov	eax, DWORD PTR _vid_displayfrequency
	movss	xmm0, DWORD PTR [eax+12]
	ucomiss	xmm0, DWORD PTR __real@00000000
	lahf
	test	ah, 68					; 00000044H
	jnp	SHORT $LN12@Host_CalcF

; 427  : 				fps = vid_displayfrequency->value;

	mov	ecx, DWORD PTR _vid_displayfrequency
	cvtss2sd xmm0, DWORD PTR [ecx+12]
	movsd	QWORD PTR _fps$[ebp], xmm0
	jmp	SHORT $LN13@Host_CalcF
$LN12@Host_CalcF:

; 428  : 			else fps = 60.0; // default

	movsd	xmm0, QWORD PTR __real@404e000000000000
	movsd	QWORD PTR _fps$[ebp], xmm0
$LN13@Host_CalcF:

; 429  : 		}
; 430  : 	}
; 431  : 
; 432  : 	return fps;

	fld	QWORD PTR _fps$[ebp]

; 433  : }

	mov	esp, ebp
	pop	ebp
	ret	0
_Host_CalcFPS ENDP
_TEXT	ENDS
; Function compile flags: /Odtp
; File c:\users\user\downloads\xash_build4529_src\engine\common\host.c
_TEXT	SEGMENT
_cmd$ = -4						; size = 4
_Host_GetCommands PROC

; 378  : {

	push	ebp
	mov	ebp, esp
	push	ecx

; 379  : 	char	*cmd;
; 380  : 
; 381  : 	if( host.type != HOST_DEDICATED )

	cmp	DWORD PTR _host+164, 1
	je	SHORT $LN2@Host_GetCo

; 382  : 		return;

	jmp	SHORT $LN1@Host_GetCo
$LN2@Host_GetCo:

; 383  : 
; 384  : 	cmd = Con_Input();

	call	_Con_Input
	mov	DWORD PTR _cmd$[ebp], eax

; 385  : 	if( cmd ) Cbuf_AddText( cmd );

	cmp	DWORD PTR _cmd$[ebp], 0
	je	SHORT $LN3@Host_GetCo
	mov	eax, DWORD PTR _cmd$[ebp]
	push	eax
	call	_Cbuf_AddText
	add	esp, 4
$LN3@Host_GetCo:

; 386  : 	Cbuf_Execute ();

	call	_Cbuf_Execute
$LN1@Host_GetCo:

; 387  : }

	mov	esp, ebp
	pop	ebp
	ret	0
_Host_GetCommands ENDP
_TEXT	ENDS
; Function compile flags: /Odtp
; File c:\users\user\downloads\xash_build4529_src\engine\common\host.c
_TEXT	SEGMENT
_i$ = -72						; size = 4
_shortname$ = -68					; size = 64
__$ArrayPad$ = -4					; size = 4
_name$ = 8						; size = 4
_count$ = 12						; size = 4
_Host_RegisterDecal PROC

; 313  : {

	push	ebp
	mov	ebp, esp
	sub	esp, 72					; 00000048H
	mov	eax, DWORD PTR ___security_cookie
	xor	eax, ebp
	mov	DWORD PTR __$ArrayPad$[ebp], eax

; 314  : 	char	shortname[MAX_QPATH];
; 315  : 	int	i;
; 316  : 
; 317  : 	if( !COM_CheckString( name ))

	mov	eax, DWORD PTR _name$[ebp]
	push	eax
	call	_COM_CheckString
	add	esp, 4
	test	eax, eax
	jne	SHORT $LN5@Host_Regis

; 318  : 		return 0;

	xor	eax, eax
	jmp	$LN1@Host_Regis
$LN5@Host_Regis:

; 319  : 
; 320  : 	COM_FileBase( name, shortname );

	lea	ecx, DWORD PTR _shortname$[ebp]
	push	ecx
	mov	edx, DWORD PTR _name$[ebp]
	push	edx
	call	_COM_FileBase
	add	esp, 8

; 321  : 
; 322  : 	for( i = 1; i < MAX_DECALS && host.draw_decals[i][0]; i++ )

	mov	DWORD PTR _i$[ebp], 1
	jmp	SHORT $LN4@Host_Regis
$LN2@Host_Regis:
	mov	eax, DWORD PTR _i$[ebp]
	add	eax, 1
	mov	DWORD PTR _i$[ebp], eax
$LN4@Host_Regis:
	cmp	DWORD PTR _i$[ebp], 512			; 00000200H
	jge	SHORT $LN3@Host_Regis
	mov	ecx, DWORD PTR _i$[ebp]
	shl	ecx, 6
	mov	edx, 1
	imul	eax, edx, 0
	movsx	ecx, BYTE PTR _host[ecx+eax+1468]
	test	ecx, ecx
	je	SHORT $LN3@Host_Regis

; 323  : 	{
; 324  : 		if( !Q_stricmp( host.draw_decals[i], shortname ))

	push	99999					; 0001869fH
	lea	edx, DWORD PTR _shortname$[ebp]
	push	edx
	mov	eax, DWORD PTR _i$[ebp]
	shl	eax, 6
	add	eax, OFFSET _host+1468
	push	eax
	call	_Q_strnicmp
	add	esp, 12					; 0000000cH
	test	eax, eax
	jne	SHORT $LN6@Host_Regis

; 325  : 			return true;

	mov	eax, 1
	jmp	SHORT $LN1@Host_Regis
$LN6@Host_Regis:

; 326  : 	}

	jmp	SHORT $LN2@Host_Regis
$LN3@Host_Regis:

; 327  : 
; 328  : 	if( i == MAX_DECALS )

	cmp	DWORD PTR _i$[ebp], 512			; 00000200H
	jne	SHORT $LN7@Host_Regis

; 329  : 	{
; 330  : 		Con_DPrintf( S_ERROR "MAX_DECALS limit exceeded (%d)\n", MAX_DECALS );

	push	512					; 00000200H
	push	OFFSET $SG134671
	call	_Con_DPrintf
	add	esp, 8

; 331  : 		return false;

	xor	eax, eax
	jmp	SHORT $LN1@Host_Regis
$LN7@Host_Regis:

; 332  : 	}
; 333  : 
; 334  : 	// register new decal
; 335  : 	Q_strncpy( host.draw_decals[i], shortname, sizeof( host.draw_decals[i] ));

	push	64					; 00000040H
	lea	ecx, DWORD PTR _shortname$[ebp]
	push	ecx
	mov	edx, DWORD PTR _i$[ebp]
	shl	edx, 6
	add	edx, OFFSET _host+1468
	push	edx
	call	_Q_strncpy
	add	esp, 12					; 0000000cH

; 336  : 	*count += 1;

	mov	eax, DWORD PTR _count$[ebp]
	mov	ecx, DWORD PTR [eax]
	add	ecx, 1
	mov	edx, DWORD PTR _count$[ebp]
	mov	DWORD PTR [edx], ecx

; 337  : 
; 338  : 	return true;

	mov	eax, 1
$LN1@Host_Regis:

; 339  : }

	mov	ecx, DWORD PTR __$ArrayPad$[ebp]
	xor	ecx, ebp
	call	@__security_check_cookie@4
	mov	esp, ebp
	pop	ebp
	ret	0
_Host_RegisterDecal ENDP
_TEXT	ENDS
; Function compile flags: /Odtp
; File c:\users\user\downloads\xash_build4529_src\engine\common\host.c
_TEXT	SEGMENT
_Host_Minimize_f PROC

; 276  : {

	push	ebp
	mov	ebp, esp

; 277  : 	if( host.hWnd ) ShowWindow( host.hWnd, SW_MINIMIZE );

	cmp	DWORD PTR _host+34332, 0
	je	SHORT $LN1@Host_Minim
	push	6
	mov	eax, DWORD PTR _host+34332
	push	eax
	call	DWORD PTR __imp__ShowWindow@8
$LN1@Host_Minim:

; 278  : }

	pop	ebp
	ret	0
_Host_Minimize_f ENDP
_TEXT	ENDS
; Function compile flags: /Odtp
; File c:\users\user\downloads\xash_build4529_src\engine\common\host.c
_TEXT	SEGMENT
tv65 = -4						; size = 4
_Host_MemStats_f PROC

; 258  : {

	push	ebp
	mov	ebp, esp
	push	ecx

; 259  : 	switch( Cmd_Argc( ))

	call	_Cmd_Argc
	mov	DWORD PTR tv65[ebp], eax
	cmp	DWORD PTR tv65[ebp], 1
	je	SHORT $LN4@Host_MemSt
	cmp	DWORD PTR tv65[ebp], 2
	je	SHORT $LN5@Host_MemSt
	jmp	SHORT $LN6@Host_MemSt
$LN4@Host_MemSt:

; 260  : 	{
; 261  : 	case 1:
; 262  : 		Mem_PrintList( 1<<30 );

	push	1073741824				; 40000000H
	call	_Mem_PrintList
	add	esp, 4

; 263  : 		Mem_PrintStats();

	call	_Mem_PrintStats

; 264  : 		break;

	jmp	SHORT $LN1@Host_MemSt
$LN5@Host_MemSt:

; 265  : 	case 2:
; 266  : 		Mem_PrintList( Q_atoi( Cmd_Argv( 1 )) * 1024 );

	push	1
	call	_Cmd_Argv
	add	esp, 4
	push	eax
	call	_Q_atoi
	add	esp, 4
	shl	eax, 10					; 0000000aH
	push	eax
	call	_Mem_PrintList
	add	esp, 4

; 267  : 		Mem_PrintStats();

	call	_Mem_PrintStats

; 268  : 		break;

	jmp	SHORT $LN1@Host_MemSt
$LN6@Host_MemSt:

; 269  : 	default:
; 270  : 		Con_Printf( S_USAGE "memlist <all>\n" );

	push	OFFSET $SG134645
	call	_Con_Printf
	add	esp, 4
$LN1@Host_MemSt:

; 271  : 		break;
; 272  : 	}
; 273  : }

	mov	esp, ebp
	pop	ebp
	ret	0
_Host_MemStats_f ENDP
_TEXT	ENDS
; Function compile flags: /Odtp
; File c:\users\user\downloads\xash_build4529_src\engine\common\host.c
_TEXT	SEGMENT
_f$ = -272						; size = 4
_len$ = -268						; size = 4
_txt$ = -264						; size = 4
_cfgpath$ = -260					; size = 256
__$ArrayPad$ = -4					; size = 4
_Host_Exec_f PROC

; 209  : {

	push	ebp
	mov	ebp, esp
	sub	esp, 272				; 00000110H
	mov	eax, DWORD PTR ___security_cookie
	xor	eax, ebp
	mov	DWORD PTR __$ArrayPad$[ebp], eax

; 210  : 	string	cfgpath;
; 211  : 	char	*f, *txt; 
; 212  : 	size_t	len;
; 213  : 
; 214  : 	if( Cmd_Argc() != 2 )

	call	_Cmd_Argc
	cmp	eax, 2
	je	SHORT $LN2@Host_Exec_

; 215  : 	{
; 216  : 		Con_Printf( S_USAGE "exec <filename>\n" );

	push	OFFSET $SG134622
	call	_Con_Printf
	add	esp, 4

; 217  : 		return;

	jmp	$LN1@Host_Exec_
$LN2@Host_Exec_:

; 218  : 	}
; 219  : 
; 220  : 	if( !Q_stricmp( "game.cfg", Cmd_Argv( 1 )))

	push	99999					; 0001869fH
	push	1
	call	_Cmd_Argv
	add	esp, 4
	push	eax
	push	OFFSET $SG134624
	call	_Q_strnicmp
	add	esp, 12					; 0000000cH
	test	eax, eax
	jne	SHORT $LN3@Host_Exec_

; 221  : 	{
; 222  : 		// don't execute game.cfg in singleplayer
; 223  : 		if( SV_GetMaxClients() == 1 )

	call	_SV_GetMaxClients
	cmp	eax, 1
	jne	SHORT $LN3@Host_Exec_

; 224  : 			return;

	jmp	$LN1@Host_Exec_
$LN3@Host_Exec_:

; 225  : 	}
; 226  : 
; 227  : 	Q_strncpy( cfgpath, Cmd_Argv( 1 ), sizeof( cfgpath )); 

	push	256					; 00000100H
	push	1
	call	_Cmd_Argv
	add	esp, 4
	push	eax
	lea	eax, DWORD PTR _cfgpath$[ebp]
	push	eax
	call	_Q_strncpy
	add	esp, 12					; 0000000cH

; 228  : 	COM_DefaultExtension( cfgpath, ".cfg" ); // append as default

	push	OFFSET $SG134626
	lea	ecx, DWORD PTR _cfgpath$[ebp]
	push	ecx
	call	_COM_DefaultExtension
	add	esp, 8

; 229  : 
; 230  : 	f = FS_LoadFile( cfgpath, &len, false );

	push	0
	lea	edx, DWORD PTR _len$[ebp]
	push	edx
	lea	eax, DWORD PTR _cfgpath$[ebp]
	push	eax
	call	_FS_LoadFile
	add	esp, 12					; 0000000cH
	mov	DWORD PTR _f$[ebp], eax

; 231  : 	if( !f )

	cmp	DWORD PTR _f$[ebp], 0
	jne	SHORT $LN5@Host_Exec_

; 232  : 	{
; 233  : 		Con_Reportf( "couldn't exec %s\n", Cmd_Argv( 1 ));

	push	1
	call	_Cmd_Argv
	add	esp, 4
	push	eax
	push	OFFSET $SG134628
	call	_Con_Reportf
	add	esp, 8

; 234  : 		return;

	jmp	$LN1@Host_Exec_
$LN5@Host_Exec_:

; 235  : 	}
; 236  : 
; 237  : 	if( !Q_stricmp( "config.cfg", Cmd_Argv( 1 )))

	push	99999					; 0001869fH
	push	1
	call	_Cmd_Argv
	add	esp, 4
	push	eax
	push	OFFSET $SG134630
	call	_Q_strnicmp
	add	esp, 12					; 0000000cH
	test	eax, eax
	jne	SHORT $LN6@Host_Exec_

; 238  : 		host.config_executed = true;

	mov	DWORD PTR _host+34396, 1
$LN6@Host_Exec_:

; 239  : 
; 240  : 	// adds \n\0 at end of the file
; 241  : 	txt = Z_Calloc( len + 2 );

	push	241					; 000000f1H
	push	OFFSET $SG134631
	push	1
	mov	ecx, DWORD PTR _len$[ebp]
	add	ecx, 2
	push	ecx
	mov	edx, DWORD PTR _host+236
	push	edx
	call	__Mem_Alloc
	add	esp, 20					; 00000014H
	mov	DWORD PTR _txt$[ebp], eax

; 242  : 	memcpy( txt, f, len );

	mov	eax, DWORD PTR _len$[ebp]
	push	eax
	mov	ecx, DWORD PTR _f$[ebp]
	push	ecx
	mov	edx, DWORD PTR _txt$[ebp]
	push	edx
	call	_memcpy
	add	esp, 12					; 0000000cH

; 243  : 	Q_strncat( txt, "\n", len + 2 );

	mov	eax, DWORD PTR _len$[ebp]
	add	eax, 2
	push	eax
	push	OFFSET $SG134632
	mov	ecx, DWORD PTR _txt$[ebp]
	push	ecx
	call	_Q_strncat
	add	esp, 12					; 0000000cH

; 244  : 	Mem_Free( f );

	push	244					; 000000f4H
	push	OFFSET $SG134633
	mov	edx, DWORD PTR _f$[ebp]
	push	edx
	call	__Mem_Free
	add	esp, 12					; 0000000cH

; 245  : 
; 246  : 	if( !host.apply_game_config )

	cmp	DWORD PTR _host+34388, 0
	jne	SHORT $LN7@Host_Exec_

; 247  : 		Con_Printf( "execing %s\n", Cmd_Argv( 1 ));

	push	1
	call	_Cmd_Argv
	add	esp, 4
	push	eax
	push	OFFSET $SG134635
	call	_Con_Printf
	add	esp, 8
$LN7@Host_Exec_:

; 248  : 	Cbuf_InsertText( txt );

	mov	eax, DWORD PTR _txt$[ebp]
	push	eax
	call	_Cbuf_InsertText
	add	esp, 4

; 249  : 	Mem_Free( txt );

	push	249					; 000000f9H
	push	OFFSET $SG134636
	mov	ecx, DWORD PTR _txt$[ebp]
	push	ecx
	call	__Mem_Free
	add	esp, 12					; 0000000cH
$LN1@Host_Exec_:

; 250  : }

	mov	ecx, DWORD PTR __$ArrayPad$[ebp]
	xor	ecx, ebp
	call	@__security_check_cookie@4
	mov	esp, ebp
	pop	ebp
	ret	0
_Host_Exec_f ENDP
_TEXT	ENDS
; Function compile flags: /Odtp
; File c:\users\user\downloads\xash_build4529_src\engine\common\host.c
_TEXT	SEGMENT
_arg1$1 = -16						; size = 4
_arg2$2 = -12						; size = 4
tv133 = -8						; size = 4
_i$ = -4						; size = 4
_Host_ChangeGame_f PROC

; 170  : {

	push	ebp
	mov	ebp, esp
	sub	esp, 16					; 00000010H

; 171  : 	int	i;
; 172  : 
; 173  : 	if( Cmd_Argc() != 2 )

	call	_Cmd_Argc
	cmp	eax, 2
	je	SHORT $LN5@Host_Chang

; 174  : 	{
; 175  : 		Con_Printf( S_USAGE "game <directory>\n" );

	push	OFFSET $SG134602
	call	_Con_Printf
	add	esp, 4

; 176  : 		return;

	jmp	$LN1@Host_Chang
$LN5@Host_Chang:

; 177  : 	}
; 178  : 
; 179  : 	// validate gamedir
; 180  : 	for( i = 0; i < SI.numgames; i++ )

	mov	DWORD PTR _i$[ebp], 0
	jmp	SHORT $LN4@Host_Chang
$LN2@Host_Chang:
	mov	eax, DWORD PTR _i$[ebp]
	add	eax, 1
	mov	DWORD PTR _i$[ebp], eax
$LN4@Host_Chang:
	mov	ecx, DWORD PTR _i$[ebp]
	cmp	ecx, DWORD PTR _SI+2820
	jge	SHORT $LN3@Host_Chang

; 181  : 	{
; 182  : 		if( !Q_stricmp( SI.games[i]->gamefolder, Cmd_Argv( 1 )))

	push	99999					; 0001869fH
	push	1
	call	_Cmd_Argv
	add	esp, 4
	push	eax
	mov	edx, DWORD PTR _i$[ebp]
	mov	eax, DWORD PTR _SI[edx*4+772]
	push	eax
	call	_Q_strnicmp
	add	esp, 12					; 0000000cH
	test	eax, eax
	jne	SHORT $LN6@Host_Chang

; 183  : 			break;

	jmp	SHORT $LN3@Host_Chang
$LN6@Host_Chang:

; 184  : 	}

	jmp	SHORT $LN2@Host_Chang
$LN3@Host_Chang:

; 185  : 
; 186  : 	if( i == SI.numgames )

	mov	ecx, DWORD PTR _i$[ebp]
	cmp	ecx, DWORD PTR _SI+2820
	jne	SHORT $LN7@Host_Chang

; 187  : 	{
; 188  : 		Con_Printf( "%s not exist\n", Cmd_Argv( 1 ));

	push	1
	call	_Cmd_Argv
	add	esp, 4
	push	eax
	push	OFFSET $SG134606
	call	_Con_Printf
	add	esp, 8

; 189  : 	}

	jmp	$LN1@Host_Chang
$LN7@Host_Chang:

; 190  : 	else if( !Q_stricmp( GI->gamefolder, Cmd_Argv( 1 )))

	push	99999					; 0001869fH
	push	1
	call	_Cmd_Argv
	add	esp, 4
	push	eax
	mov	edx, DWORD PTR _SI+768
	push	edx
	call	_Q_strnicmp
	add	esp, 12					; 0000000cH
	test	eax, eax
	jne	SHORT $LN9@Host_Chang

; 191  : 	{
; 192  : 		Con_Printf( "%s already active\n", Cmd_Argv( 1 ));	

	push	1
	call	_Cmd_Argv
	add	esp, 4
	push	eax
	push	OFFSET $SG134609
	call	_Con_Printf
	add	esp, 8

; 193  : 	}

	jmp	SHORT $LN1@Host_Chang
$LN9@Host_Chang:

; 194  : 	else
; 195  : 	{
; 196  : 		const char *arg1 = va( "%s%s", (host.type == HOST_NORMAL) ? "" : "#", Cmd_Argv( 1 ));

	cmp	DWORD PTR _host+164, 0
	jne	SHORT $LN12@Host_Chang
	mov	DWORD PTR tv133[ebp], OFFSET $SG134610
	jmp	SHORT $LN13@Host_Chang
$LN12@Host_Chang:
	mov	DWORD PTR tv133[ebp], OFFSET $SG134611
$LN13@Host_Chang:
	push	1
	call	_Cmd_Argv
	add	esp, 4
	push	eax
	mov	eax, DWORD PTR tv133[ebp]
	push	eax
	push	OFFSET $SG134612
	call	_va
	add	esp, 12					; 0000000cH
	mov	DWORD PTR _arg1$1[ebp], eax

; 197  : 		const char *arg2 = va( "change game to '%s'", SI.games[i]->title );

	mov	ecx, DWORD PTR _i$[ebp]
	mov	edx, DWORD PTR _SI[ecx*4+772]
	add	edx, 384				; 00000180H
	push	edx
	push	OFFSET $SG134613
	call	_va
	add	esp, 8
	mov	DWORD PTR _arg2$2[ebp], eax

; 198  : 
; 199  : 		Host_NewInstance( arg1, arg2 );

	mov	eax, DWORD PTR _arg2$2[ebp]
	push	eax
	mov	ecx, DWORD PTR _arg1$1[ebp]
	push	ecx
	call	_Host_NewInstance
	add	esp, 8
$LN1@Host_Chang:

; 200  : 	}
; 201  : }

	mov	esp, ebp
	pop	ebp
	ret	0
_Host_ChangeGame_f ENDP
_TEXT	ENDS
; Function compile flags: /Odtp
; File c:\users\user\downloads\xash_build4529_src\engine\common\host.c
_TEXT	SEGMENT
_Host_CheckSleep PROC

; 131  : {

	push	ebp
	mov	ebp, esp

; 132  : 	if( host.type == HOST_DEDICATED )

	cmp	DWORD PTR _host+164, 1
	jne	SHORT $LN2@Host_Check

; 133  : 	{
; 134  : 		// let the dedicated server some sleep
; 135  : 		Sys_Sleep( 1 );

	push	1
	call	_Sys_Sleep
	add	esp, 4

; 136  : 	}

	jmp	SHORT $LN1@Host_Check
$LN2@Host_Check:

; 137  : 	else
; 138  : 	{
; 139  : 		if( host.status == HOST_NOFOCUS )

	cmp	DWORD PTR _host+12, 5
	jne	SHORT $LN4@Host_Check

; 140  : 		{
; 141  : 			if( SV_Active() && CL_IsInGame( ))

	call	_SV_Active
	test	eax, eax
	je	SHORT $LN6@Host_Check
	call	_CL_IsInGame
	test	eax, eax
	je	SHORT $LN6@Host_Check

; 142  : 				Sys_Sleep( 1 ); // listenserver

	push	1
	call	_Sys_Sleep
	add	esp, 4
	jmp	SHORT $LN7@Host_Check
$LN6@Host_Check:

; 143  : 			else Sys_Sleep( 20 ); // sleep 20 ms otherwise

	push	20					; 00000014H
	call	_Sys_Sleep
	add	esp, 4
$LN7@Host_Check:

; 144  : 		}

	jmp	SHORT $LN1@Host_Check
$LN4@Host_Check:

; 145  : 		else if( host.status == HOST_SLEEP )

	cmp	DWORD PTR _host+12, 4
	jne	SHORT $LN1@Host_Check

; 146  : 		{
; 147  : 			// completely sleep in minimized state
; 148  : 			Sys_Sleep( 20 );

	push	20					; 00000014H
	call	_Sys_Sleep
	add	esp, 4
$LN1@Host_Check:

; 149  : 		}
; 150  : 	}
; 151  : }

	pop	ebp
	ret	0
_Host_CheckSleep ENDP
_TEXT	ENDS
; Function compile flags: /Odtp
; File c:\users\user\downloads\xash_build4529_src\engine\common\host.c
_TEXT	SEGMENT
_num_decals$ = -12					; size = 4
_i$ = -8						; size = 4
_t$ = -4						; size = 4
_Host_InitDecals PROC

; 347  : {

	push	ebp
	mov	ebp, esp
	sub	esp, 12					; 0000000cH

; 348  : 	int	i, num_decals = 0;

	mov	DWORD PTR _num_decals$[ebp], 0

; 349  : 	search_t	*t;
; 350  : 
; 351  : 	// NOTE: only once resource without which engine can't continue work
; 352  : 	if( !FS_FileExists( "gfx/conchars", false ))

	push	0
	push	OFFSET $SG134681
	call	_FS_FileExists
	add	esp, 8
	test	eax, eax
	jne	SHORT $LN5@Host_InitD

; 353  : 		Sys_Error( "W_LoadWadFile: couldn't load gfx.wad\n" );

	push	OFFSET $SG134682
	call	_Sys_Error
	add	esp, 4
$LN5@Host_InitD:

; 354  : 
; 355  : 	memset( host.draw_decals, 0, sizeof( host.draw_decals ));

	push	32768					; 00008000H
	push	0
	push	OFFSET _host+1468
	call	_memset
	add	esp, 12					; 0000000cH

; 356  : 
; 357  : 	// lookup all the decals in decals.wad (basedir, gamedir, falldir)
; 358  : 	t = FS_Search( "decals.wad/*.*", true, false );

	push	0
	push	1
	push	OFFSET $SG134683
	call	_FS_Search
	add	esp, 12					; 0000000cH
	mov	DWORD PTR _t$[ebp], eax

; 359  : 
; 360  : 	for( i = 0; t && i < t->numfilenames; i++ )

	mov	DWORD PTR _i$[ebp], 0
	jmp	SHORT $LN4@Host_InitD
$LN2@Host_InitD:
	mov	eax, DWORD PTR _i$[ebp]
	add	eax, 1
	mov	DWORD PTR _i$[ebp], eax
$LN4@Host_InitD:
	cmp	DWORD PTR _t$[ebp], 0
	je	SHORT $LN3@Host_InitD
	mov	ecx, DWORD PTR _t$[ebp]
	mov	edx, DWORD PTR _i$[ebp]
	cmp	edx, DWORD PTR [ecx]
	jge	SHORT $LN3@Host_InitD

; 361  : 	{
; 362  : 		if( !Host_RegisterDecal( t->filenames[i], &num_decals ))

	lea	eax, DWORD PTR _num_decals$[ebp]
	push	eax
	mov	ecx, DWORD PTR _t$[ebp]
	mov	edx, DWORD PTR [ecx+4]
	mov	eax, DWORD PTR _i$[ebp]
	mov	ecx, DWORD PTR [edx+eax*4]
	push	ecx
	call	_Host_RegisterDecal
	add	esp, 8
	test	eax, eax
	jne	SHORT $LN6@Host_InitD

; 363  : 			break;

	jmp	SHORT $LN3@Host_InitD
$LN6@Host_InitD:

; 364  : 	}

	jmp	SHORT $LN2@Host_InitD
$LN3@Host_InitD:

; 365  : 
; 366  : 	if( t ) Mem_Free( t );

	cmp	DWORD PTR _t$[ebp], 0
	je	SHORT $LN7@Host_InitD
	push	366					; 0000016eH
	push	OFFSET $SG134686
	mov	edx, DWORD PTR _t$[ebp]
	push	edx
	call	__Mem_Free
	add	esp, 12					; 0000000cH
$LN7@Host_InitD:

; 367  : 	Con_Reportf( "InitDecals: %i decals\n", num_decals );

	mov	eax, DWORD PTR _num_decals$[ebp]
	push	eax
	push	OFFSET $SG134687
	call	_Con_Reportf
	add	esp, 8

; 368  : }

	mov	esp, ebp
	pop	ebp
	ret	0
_Host_InitDecals ENDP
_TEXT	ENDS
; Function compile flags: /Odtp
; File c:\users\user\downloads\xash_build4529_src\engine\common\host.c
_TEXT	SEGMENT
_time$ = 8						; size = 4
_Host_Frame PROC

; 486  : {

	push	ebp
	mov	ebp, esp

; 487  : 	Host_CheckSleep();

	call	_Host_CheckSleep

; 488  : 
; 489  : 	// decide the simulation time
; 490  : 	if( !Host_FilterTime( time ))

	push	ecx
	movss	xmm0, DWORD PTR _time$[ebp]
	movss	DWORD PTR [esp], xmm0
	call	_Host_FilterTime
	add	esp, 4
	test	eax, eax
	jne	SHORT $LN2@Host_Frame

; 491  : 		return;

	jmp	SHORT $LN1@Host_Frame
$LN2@Host_Frame:

; 492  : 
; 493  : 	Host_InputFrame ();  // input frame

	call	_Host_InputFrame

; 494  : 	Host_ClientBegin (); // begin client

	call	_Host_ClientBegin

; 495  : 	Host_GetCommands (); // dedicated in

	call	_Host_GetCommands

; 496  : 	Host_ServerFrame (); // server frame

	call	_Host_ServerFrame

; 497  : 	Host_ClientFrame (); // client frame

	call	_Host_ClientFrame

; 498  : 
; 499  : 	host.framecount++;

	mov	eax, DWORD PTR _host+1464
	add	eax, 1
	mov	DWORD PTR _host+1464, eax
$LN1@Host_Frame:

; 500  : }

	pop	ebp
	ret	0
_Host_Frame ENDP
_TEXT	ENDS
; Function compile flags: /Odtp
; File c:\users\user\downloads\xash_build4529_src\engine\common\host.c
_TEXT	SEGMENT
_Host_PrintEngineFeatures PROC

; 68   : {

	push	ebp
	mov	ebp, esp

; 69   : 	if( FBitSet( host.features, ENGINE_WRITE_LARGE_COORD ))

	mov	eax, DWORD PTR _host+34748
	and	eax, 1
	je	SHORT $LN2@Host_Print

; 70   : 		Con_Reportf( "^3EXT:^7 big world support enabled\n" );

	push	OFFSET $SG134547
	call	_Con_Reportf
	add	esp, 4
$LN2@Host_Print:

; 71   : 
; 72   : 	if( FBitSet( host.features, ENGINE_LOAD_DELUXEDATA ))

	mov	ecx, DWORD PTR _host+34748
	and	ecx, 4
	je	SHORT $LN3@Host_Print

; 73   : 		Con_Reportf( "^3EXT:^7 deluxemap support enabled\n" );

	push	OFFSET $SG134549
	call	_Con_Reportf
	add	esp, 4
$LN3@Host_Print:

; 74   : 
; 75   : 	if( FBitSet( host.features, ENGINE_PHYSICS_PUSHER_EXT ))

	mov	edx, DWORD PTR _host+34748
	and	edx, 8
	je	SHORT $LN4@Host_Print

; 76   : 		Con_Reportf( "^3EXT:^7 Improved MOVETYPE_PUSH is used\n" );

	push	OFFSET $SG134551
	call	_Con_Reportf
	add	esp, 4
$LN4@Host_Print:

; 77   : 
; 78   : 	if( FBitSet( host.features, ENGINE_LARGE_LIGHTMAPS ))

	mov	eax, DWORD PTR _host+34748
	and	eax, 16					; 00000010H
	je	SHORT $LN5@Host_Print

; 79   : 		Con_Reportf( "^3EXT:^7 Large lightmaps enabled\n" );

	push	OFFSET $SG134553
	call	_Con_Reportf
	add	esp, 4
$LN5@Host_Print:

; 80   : 
; 81   : 	if( FBitSet( host.features, ENGINE_COMPENSATE_QUAKE_BUG ))

	mov	ecx, DWORD PTR _host+34748
	and	ecx, 32					; 00000020H
	je	SHORT $LN1@Host_Print

; 82   : 		Con_Reportf( "^3EXT:^7 Compensate quake bug enabled\n" );

	push	OFFSET $SG134555
	call	_Con_Reportf
	add	esp, 4
$LN1@Host_Print:

; 83   : }

	pop	ebp
	ret	0
_Host_PrintEngineFeatures ENDP
_TEXT	ENDS
; Function compile flags: /Odtp
; File c:\users\user\downloads\xash_build4529_src\engine\common\host.c
_TEXT	SEGMENT
_argptr$ = -4						; size = 4
_error$ = 8						; size = 4
_Host_Error PROC

; 508  : {

	push	ebp
	mov	ebp, esp
	push	ecx

; 509  : 	static char	hosterror1[MAX_SYSPATH];
; 510  : 	static char	hosterror2[MAX_SYSPATH];
; 511  : 	static qboolean	recursive = false;
; 512  : 	va_list		argptr;
; 513  : 
; 514  : 	if( host.mouse_visible && !CL_IsInMenu( ))

	cmp	DWORD PTR _host+34372, 0
	je	SHORT $LN4@Host_Error
	call	_CL_IsInMenu
	test	eax, eax
	jne	SHORT $LN4@Host_Error
$LN2@Host_Error:

; 515  : 	{
; 516  : 		// hide VGUI mouse
; 517  : 		while( ShowCursor( false ) >= 0 );

	push	0
	call	DWORD PTR __imp__ShowCursor@4
	test	eax, eax
	jl	SHORT $LN3@Host_Error
	jmp	SHORT $LN2@Host_Error
$LN3@Host_Error:

; 518  : 		host.mouse_visible = false;

	mov	DWORD PTR _host+34372, 0
$LN4@Host_Error:

; 519  : 	}
; 520  : 
; 521  : 	va_start( argptr, error );

	lea	eax, DWORD PTR _error$[ebp+4]
	mov	DWORD PTR _argptr$[ebp], eax

; 522  : 	Q_vsprintf( hosterror1, error, argptr );

	mov	ecx, DWORD PTR _argptr$[ebp]
	push	ecx
	mov	edx, DWORD PTR _error$[ebp]
	push	edx
	push	99999					; 0001869fH
	push	OFFSET ?hosterror1@?1??Host_Error@@9@9
	call	_Q_vsnprintf
	add	esp, 16					; 00000010H

; 523  : 	va_end( argptr );

	mov	DWORD PTR _argptr$[ebp], 0

; 524  : 
; 525  : 	CL_WriteMessageHistory (); // before Q_error call

	call	_CL_WriteMessageHistory

; 526  : 
; 527  : 	if( host.framecount < 3 )

	cmp	DWORD PTR _host+1464, 3
	jae	SHORT $LN5@Host_Error

; 528  : 	{
; 529  : 		Sys_Error( "Host_InitError: %s", hosterror1 );

	push	OFFSET ?hosterror1@?1??Host_Error@@9@9
	push	OFFSET $SG134750
	call	_Sys_Error
	add	esp, 8

; 530  : 	}

	jmp	SHORT $LN6@Host_Error
$LN5@Host_Error:

; 531  : 	else if( host.framecount == host.errorframe )

	mov	eax, DWORD PTR _host+1464
	cmp	eax, DWORD PTR _host+232
	jne	SHORT $LN7@Host_Error

; 532  : 	{
; 533  : 		Sys_Error( "Host_MultiError: %s", hosterror2 );

	push	OFFSET ?hosterror2@?1??Host_Error@@9@9
	push	OFFSET $SG134753
	call	_Sys_Error
	add	esp, 8

; 534  : 		return;

	jmp	$LN1@Host_Error

; 535  : 	}

	jmp	SHORT $LN6@Host_Error
$LN7@Host_Error:

; 536  : 	else
; 537  : 	{
; 538  : 		if( host.allow_console )

	cmp	DWORD PTR _host+34336, 0
	je	SHORT $LN9@Host_Error

; 539  : 		{
; 540  : 			UI_SetActiveMenu( false );

	push	0
	call	_UI_SetActiveMenu
	add	esp, 4

; 541  : 			Key_SetKeyDest( key_console );

	push	0
	call	_Key_SetKeyDest
	add	esp, 4

; 542  : 			Con_Printf( "Host_Error: %s", hosterror1 );

	push	OFFSET ?hosterror1@?1??Host_Error@@9@9
	push	OFFSET $SG134756
	call	_Con_Printf
	add	esp, 8

; 543  : 		}

	jmp	SHORT $LN6@Host_Error
$LN9@Host_Error:

; 544  : 		else MSGBOX2( hosterror1 );

	push	65552					; 00010010H
	push	OFFSET $SG134757
	push	OFFSET ?hosterror1@?1??Host_Error@@9@9
	mov	ecx, DWORD PTR _host+34332
	push	ecx
	call	DWORD PTR __imp__MessageBoxA@16
$LN6@Host_Error:

; 545  : 	}
; 546  : 
; 547  : 	// host is shutting down. don't invoke infinite loop
; 548  : 	if( host.status == HOST_SHUTDOWN ) return;

	cmp	DWORD PTR _host+12, 2
	jne	SHORT $LN11@Host_Error
	jmp	$LN1@Host_Error
$LN11@Host_Error:

; 549  : 
; 550  : 	if( recursive )

	cmp	DWORD PTR ?recursive@?1??Host_Error@@9@9, 0
	je	SHORT $LN12@Host_Error

; 551  : 	{ 
; 552  : 		Con_Printf( "Host_RecursiveError: %s", hosterror2 );

	push	OFFSET ?hosterror2@?1??Host_Error@@9@9
	push	OFFSET $SG134760
	call	_Con_Printf
	add	esp, 8

; 553  : 		Sys_Error( hosterror1 );

	push	OFFSET ?hosterror1@?1??Host_Error@@9@9
	call	_Sys_Error
	add	esp, 4

; 554  : 		return; // don't multiple executes

	jmp	SHORT $LN1@Host_Error
$LN12@Host_Error:

; 555  : 	}
; 556  : 
; 557  : 	recursive = true;

	mov	DWORD PTR ?recursive@?1??Host_Error@@9@9, 1

; 558  : 	Q_strncpy( hosterror2, hosterror1, MAX_SYSPATH );

	push	1024					; 00000400H
	push	OFFSET ?hosterror1@?1??Host_Error@@9@9
	push	OFFSET ?hosterror2@?1??Host_Error@@9@9
	call	_Q_strncpy
	add	esp, 12					; 0000000cH

; 559  : 	host.errorframe = host.framecount; // to avoid multply calls per frame

	mov	edx, DWORD PTR _host+1464
	mov	DWORD PTR _host+232, edx

; 560  : 	Q_sprintf( host.finalmsg, "Server crashed: %s", hosterror1 );

	push	OFFSET ?hosterror1@?1??Host_Error@@9@9
	push	OFFSET $SG134761
	push	OFFSET _host+240
	call	_Q_sprintf
	add	esp, 12					; 0000000cH

; 561  : 
; 562  : 	// clearing cmd buffer to prevent execute any commands
; 563  : 	COM_InitHostState();

	call	_COM_InitHostState

; 564  : 	Cbuf_Clear();

	call	_Cbuf_Clear

; 565  : 
; 566  : 	Host_ShutdownServer();

	call	_Host_ShutdownServer

; 567  : 	CL_Drop(); // drop clients

	call	_CL_Drop

; 568  : 
; 569  : 	// recreate world if needs
; 570  : 	CL_ClearEdicts ();

	call	_CL_ClearEdicts

; 571  : 
; 572  : 	// release all models
; 573  : 	Mod_FreeAll();

	call	_Mod_FreeAll

; 574  : 
; 575  : 	recursive = false;

	mov	DWORD PTR ?recursive@?1??Host_Error@@9@9, 0

; 576  : 	Host_AbortCurrentFrame();

	call	_Host_AbortCurrentFrame
$LN1@Host_Error:

; 577  : }

	mov	esp, ebp
	pop	ebp
	ret	0
_Host_Error ENDP
_TEXT	ENDS
; Function compile flags: /Odtp
; File c:\users\user\downloads\xash_build4529_src\engine\common\host.c
_TEXT	SEGMENT
_Host_ShutdownServer PROC

; 58   : {

	push	ebp
	mov	ebp, esp

; 59   : 	SV_Shutdown( "Server was killed\n" );

	push	OFFSET $SG134543
	call	_SV_Shutdown
	add	esp, 4

; 60   : }

	pop	ebp
	ret	0
_Host_ShutdownServer ENDP
_TEXT	ENDS
; Function compile flags: /Odtp
; File c:\users\user\downloads\xash_build4529_src\engine\common\host.c
_TEXT	SEGMENT
_Host_IsLocalClient PROC

; 300  : {

	push	ebp
	mov	ebp, esp

; 301  : 	// only the local client have the active server
; 302  : 	if( CL_Initialized( ) && SV_Initialized( ))

	call	_CL_Initialized
	test	eax, eax
	je	SHORT $LN2@Host_IsLoc
	call	_SV_Initialized
	test	eax, eax
	je	SHORT $LN2@Host_IsLoc

; 303  : 		return true;

	mov	eax, 1
	jmp	SHORT $LN1@Host_IsLoc
$LN2@Host_IsLoc:

; 304  : 	return false;

	xor	eax, eax
$LN1@Host_IsLoc:

; 305  : }

	pop	ebp
	ret	0
_Host_IsLocalClient ENDP
_TEXT	ENDS
; Function compile flags: /Odtp
; File c:\users\user\downloads\xash_build4529_src\engine\common\host.c
_TEXT	SEGMENT
tv71 = -8						; size = 4
tv68 = -4						; size = 4
_Host_IsLocalGame PROC

; 288  : {

	push	ebp
	mov	ebp, esp
	sub	esp, 8

; 289  : 	if( SV_Active( ))

	call	_SV_Active
	test	eax, eax
	je	SHORT $LN2@Host_IsLoc

; 290  : 	{
; 291  : 		return ( SV_GetMaxClients() == 1 ) ? true : false;

	call	_SV_GetMaxClients
	cmp	eax, 1
	jne	SHORT $LN5@Host_IsLoc
	mov	DWORD PTR tv68[ebp], 1
	jmp	SHORT $LN6@Host_IsLoc
$LN5@Host_IsLoc:
	mov	DWORD PTR tv68[ebp], 0
$LN6@Host_IsLoc:
	mov	eax, DWORD PTR tv68[ebp]
	jmp	SHORT $LN1@Host_IsLoc

; 292  : 	}

	jmp	SHORT $LN1@Host_IsLoc
$LN2@Host_IsLoc:

; 293  : 	else
; 294  : 	{
; 295  : 		return ( CL_GetMaxClients() == 1 ) ? true : false;

	call	_CL_GetMaxClients
	cmp	eax, 1
	jne	SHORT $LN7@Host_IsLoc
	mov	DWORD PTR tv71[ebp], 1
	jmp	SHORT $LN8@Host_IsLoc
$LN7@Host_IsLoc:
	mov	DWORD PTR tv71[ebp], 0
$LN8@Host_IsLoc:
	mov	eax, DWORD PTR tv71[ebp]
$LN1@Host_IsLoc:

; 296  : 	}
; 297  : }

	mov	esp, ebp
	pop	ebp
	ret	0
_Host_IsLocalGame ENDP
_TEXT	ENDS
; Function compile flags: /Odtp
; File c:\users\user\downloads\xash_build4529_src\engine\common\host.c
_TEXT	SEGMENT
_Host_AbortCurrentFrame PROC

; 121  : {

	push	ebp
	mov	ebp, esp

; 122  : 	longjmp( host.abortframe, 1 );

	push	1
	push	OFFSET _host+168
	call	_longjmp
$LN2@Host_Abort:

; 123  : }

	pop	ebp
	ret	0
_Host_AbortCurrentFrame ENDP
_TEXT	ENDS
; Function compile flags: /Odtp
; File c:\users\user\downloads\xash_build4529_src\engine\common\host.c
_TEXT	SEGMENT
_argptr$ = -4						; size = 4
_abort$ = 8						; size = 4
_message$ = 12						; size = 4
_Host_EndGame PROC

; 91   : {

	push	ebp
	mov	ebp, esp
	push	ecx

; 92   : 	va_list		argptr;
; 93   : 	static char	string[MAX_SYSPATH];
; 94   : 	
; 95   : 	va_start( argptr, message );

	lea	eax, DWORD PTR _message$[ebp+4]
	mov	DWORD PTR _argptr$[ebp], eax

; 96   : 	Q_vsnprintf( string, sizeof( string ), message, argptr );

	mov	ecx, DWORD PTR _argptr$[ebp]
	push	ecx
	mov	edx, DWORD PTR _message$[ebp]
	push	edx
	push	1024					; 00000400H
	push	OFFSET ?string@?1??Host_EndGame@@9@9
	call	_Q_vsnprintf
	add	esp, 16					; 00000010H

; 97   : 	va_end( argptr );

	mov	DWORD PTR _argptr$[ebp], 0

; 98   : 
; 99   : 	Con_Printf( "Host_EndGame: %s\n", string );

	push	OFFSET ?string@?1??Host_EndGame@@9@9
	push	OFFSET $SG134571
	call	_Con_Printf
	add	esp, 8

; 100  : 
; 101  : 	SV_Shutdown( "\n" );	

	push	OFFSET $SG134572
	call	_SV_Shutdown
	add	esp, 4

; 102  : 	CL_Disconnect();

	call	_CL_Disconnect

; 103  : 
; 104  : 	// recreate world if needs
; 105  : 	CL_ClearEdicts ();

	call	_CL_ClearEdicts

; 106  : 
; 107  : 	// release all models
; 108  : 	Mod_FreeAll();

	call	_Mod_FreeAll

; 109  : 
; 110  : 	if( abort ) Host_AbortCurrentFrame ();

	cmp	DWORD PTR _abort$[ebp], 0
	je	SHORT $LN1@Host_EndGa
	call	_Host_AbortCurrentFrame
$LN1@Host_EndGa:

; 111  : }

	mov	esp, ebp
	pop	ebp
	ret	0
_Host_EndGame ENDP
_TEXT	ENDS
; Function compile flags: /Odtp
; File c:\users\user\downloads\xash_build4529_src\engine\common\host.c
_TEXT	SEGMENT
_name$ = 8						; size = 4
_finalmsg$ = 12						; size = 4
_Host_NewInstance PROC

; 154  : {

	push	ebp
	mov	ebp, esp

; 155  : 	if( !pChangeGame ) return;

	cmp	DWORD PTR _pChangeGame, 0
	jne	SHORT $LN2@Host_NewIn
	jmp	SHORT $LN1@Host_NewIn
$LN2@Host_NewIn:

; 156  : 
; 157  : 	host.change_game = true;

	mov	DWORD PTR _host+34368, 1

; 158  : 	Q_strncpy( host.finalmsg, finalmsg, sizeof( host.finalmsg ));

	push	256					; 00000100H
	mov	eax, DWORD PTR _finalmsg$[ebp]
	push	eax
	push	OFFSET _host+240
	call	_Q_strncpy
	add	esp, 12					; 0000000cH

; 159  : 	pChangeGame( name ); // call from hl.exe

	mov	ecx, DWORD PTR _name$[ebp]
	push	ecx
	call	DWORD PTR _pChangeGame
	add	esp, 4
$LN1@Host_NewIn:

; 160  : }

	pop	ebp
	ret	0
_Host_NewInstance ENDP
_TEXT	ENDS
; Function compile flags: /Odtp
; File c:\users\user\downloads\xash_build4529_src\engine\common\host.c
_TEXT	SEGMENT
_ft1$ = 8						; size = 4
_ft2$ = 12						; size = 4
_Host_CompareFileTime PROC

; 45   : {

	push	ebp
	mov	ebp, esp

; 46   : 	if( ft1 < ft2 )

	mov	eax, DWORD PTR _ft1$[ebp]
	cmp	eax, DWORD PTR _ft2$[ebp]
	jge	SHORT $LN2@Host_Compa

; 47   : 	{
; 48   : 		return -1;

	or	eax, -1
	jmp	SHORT $LN1@Host_Compa

; 49   : 	}

	jmp	SHORT $LN3@Host_Compa
$LN2@Host_Compa:

; 50   : 	else if( ft1 > ft2 )

	mov	ecx, DWORD PTR _ft1$[ebp]
	cmp	ecx, DWORD PTR _ft2$[ebp]
	jle	SHORT $LN3@Host_Compa

; 51   : 	{
; 52   : 		return 1;

	mov	eax, 1
	jmp	SHORT $LN1@Host_Compa
$LN3@Host_Compa:

; 53   : 	}
; 54   : 	return 0;

	xor	eax, eax
$LN1@Host_Compa:

; 55   : }

	pop	ebp
	ret	0
_Host_CompareFileTime ENDP
_TEXT	ENDS
; Function compile flags: /Odtp
; File c:\users\user\downloads\xash_build4529_src\engine\common\host.c
_TEXT	SEGMENT
_Host_Shutdown PROC

; 911  : {

	push	ebp
	mov	ebp, esp

; 912  : 	if( host.shutdown_issued ) return;

	cmp	DWORD PTR _host+34376, 0
	je	SHORT $LN2@Host_Shutd
	jmp	$LN1@Host_Shutd
$LN2@Host_Shutd:

; 913  : 	host.shutdown_issued = true;

	mov	DWORD PTR _host+34376, 1

; 914  : 
; 915  : 	if( host.status != HOST_ERR_FATAL ) host.status = HOST_SHUTDOWN; // prepare host to normal shutdown

	cmp	DWORD PTR _host+12, 3
	je	SHORT $LN3@Host_Shutd
	mov	DWORD PTR _host+12, 2
$LN3@Host_Shutd:

; 916  : 	if( !host.change_game ) Q_strncpy( host.finalmsg, "Server shutdown", sizeof( host.finalmsg ));

	cmp	DWORD PTR _host+34368, 0
	jne	SHORT $LN4@Host_Shutd
	push	256					; 00000100H
	push	OFFSET $SG134940
	push	OFFSET _host+240
	call	_Q_strncpy
	add	esp, 12					; 0000000cH
$LN4@Host_Shutd:

; 917  : 
; 918  : 	if( host.type == HOST_NORMAL )

	cmp	DWORD PTR _host+164, 0
	jne	SHORT $LN5@Host_Shutd

; 919  : 		Host_WriteConfig();

	call	_Host_WriteConfig
$LN5@Host_Shutd:

; 920  : 
; 921  : 	SV_Shutdown( "Server shutdown\n" );

	push	OFFSET $SG134942
	call	_SV_Shutdown
	add	esp, 4

; 922  : 	CL_Shutdown();

	call	_CL_Shutdown

; 923  : 
; 924  : 	Mod_Shutdown();

	call	_Mod_Shutdown

; 925  : 	NET_Shutdown();

	call	_NET_Shutdown

; 926  : 	Host_FreeCommon();

	call	_Host_FreeCommon

; 927  : 	Con_DestroyConsole();

	call	_Con_DestroyConsole

; 928  : 
; 929  : 	// must be last, console uses this
; 930  : 	Mem_FreePool( &host.mempool );

	push	930					; 000003a2H
	push	OFFSET $SG134943
	push	OFFSET _host+236
	call	__Mem_FreePool
	add	esp, 12					; 0000000cH

; 931  : 
; 932  : 	// restore filter	
; 933  : 	if( host.oldFilter ) SetUnhandledExceptionFilter( host.oldFilter );

	cmp	DWORD PTR _host+8, 0
	je	SHORT $LN1@Host_Shutd
	mov	eax, DWORD PTR _host+8
	push	eax
	call	DWORD PTR __imp__SetUnhandledExceptionFilter@4
$LN1@Host_Shutd:

; 934  : }

	pop	ebp
	ret	0
_Host_Shutdown ENDP
_TEXT	ENDS
END
